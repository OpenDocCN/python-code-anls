# `.\pytorch\test\torch_np\test_binary_ufuncs.py`

```
# Owner(s): ["module: dynamo"]

# this file is autogenerated via gen_ufuncs.py
# do not edit manually!
import numpy as np  # 导入 NumPy 库

from torch._numpy._ufuncs import *  # noqa: F403  # 导入 torch 的 NumPy 函数
from torch._numpy.testing import assert_allclose  # 导入断言函数 assert_allclose
from torch.testing._internal.common_utils import run_tests, TestCase  # 导入测试运行函数和测试用例基类


class TestBinaryUfuncBasic(TestCase):  # 定义测试类 TestBinaryUfuncBasic，继承自 TestCase
    def test_add(self):  # 测试函数：测试加法
        assert_allclose(np.add(0.5, 0.6), add(0.5, 0.6), atol=1e-7, check_dtype=False)  # 断言两个加法函数的结果近似相等

    def test_arctan2(self):  # 测试函数：测试反正切函数
        assert_allclose(
            np.arctan2(0.5, 0.6), arctan2(0.5, 0.6), atol=1e-7, check_dtype=False
        )  # 断言两个反正切函数的结果近似相等

    def test_bitwise_and(self):  # 测试函数：测试按位与运算
        assert_allclose(
            np.bitwise_and(5, 6), bitwise_and(5, 6), atol=1e-7, check_dtype=False
        )  # 断言两个按位与运算的结果近似相等

    def test_bitwise_or(self):  # 测试函数：测试按位或运算
        assert_allclose(
            np.bitwise_or(5, 6), bitwise_or(5, 6), atol=1e-7, check_dtype=False
        )  # 断言两个按位或运算的结果近似相等

    def test_bitwise_xor(self):  # 测试函数：测试按位异或运算
        assert_allclose(
            np.bitwise_xor(5, 6), bitwise_xor(5, 6), atol=1e-7, check_dtype=False
        )  # 断言两个按位异或运算的结果近似相等

    def test_copysign(self):  # 测试函数：测试符号拷贝函数
        assert_allclose(
            np.copysign(0.5, 0.6), copysign(0.5, 0.6), atol=1e-7, check_dtype=False
        )  # 断言两个符号拷贝函数的结果近似相等

    def test_divide(self):  # 测试函数：测试除法函数
        assert_allclose(
            np.divide(0.5, 0.6), divide(0.5, 0.6), atol=1e-7, check_dtype=False
        )  # 断言两个除法函数的结果近似相等

    def test_equal(self):  # 测试函数：测试相等性函数
        assert_allclose(
            np.equal(0.5, 0.6), equal(0.5, 0.6), atol=1e-7, check_dtype=False
        )  # 断言两个相等性函数的结果近似相等

    def test_float_power(self):  # 测试函数：测试浮点数幂函数
        assert_allclose(
            np.float_power(0.5, 0.6),
            float_power(0.5, 0.6),
            atol=1e-7,
            check_dtype=False,
        )  # 断言两个浮点数幂函数的结果近似相等

    def test_floor_divide(self):  # 测试函数：测试地板除法函数
        assert_allclose(
            np.floor_divide(0.5, 0.6),
            floor_divide(0.5, 0.6),
            atol=1e-7,
            check_dtype=False,
        )  # 断言两个地板除法函数的结果近似相等

    def test_fmax(self):  # 测试函数：测试最大值函数
        assert_allclose(np.fmax(0.5, 0.6), fmax(0.5, 0.6), atol=1e-7, check_dtype=False)  # 断言两个最大值函数的结果近似相等

    def test_fmin(self):  # 测试函数：测试最小值函数
        assert_allclose(np.fmin(0.5, 0.6), fmin(0.5, 0.6), atol=1e-7, check_dtype=False)  # 断言两个最小值函数的结果近似相等

    def test_fmod(self):  # 测试函数：测试浮点数取模函数
        assert_allclose(np.fmod(0.5, 0.6), fmod(0.5, 0.6), atol=1e-7, check_dtype=False)  # 断言两个浮点数取模函数的结果近似相等

    def test_gcd(self):  # 测试函数：测试最大公约数函数
        assert_allclose(np.gcd(5, 6), gcd(5, 6), atol=1e-7, check_dtype=False)  # 断言两个最大公约数函数的结果近似相等

    def test_greater(self):  # 测试函数：测试大于比较函数
        assert_allclose(
            np.greater(0.5, 0.6), greater(0.5, 0.6), atol=1e-7, check_dtype=False
        )  # 断言两个大于比较函数的结果近似相等

    def test_greater_equal(self):  # 测试函数：测试大于等于比较函数
        assert_allclose(
            np.greater_equal(0.5, 0.6),
            greater_equal(0.5, 0.6),
            atol=1e-7,
            check_dtype=False,
        )  # 断言两个大于等于比较函数的结果近似相等

    def test_heaviside(self):  # 测试函数：测试 Heaviside 函数
        assert_allclose(
            np.heaviside(0.5, 0.6), heaviside(0.5, 0.6), atol=1e-7, check_dtype=False
        )  # 断言两个 Heaviside 函数的结果近似相等

    def test_hypot(self):  # 测试函数：测试两个数的平方和的平方根函数
        assert_allclose(
            np.hypot(0.5, 0.6), hypot(0.5, 0.6), atol=1e-7, check_dtype=False
        )  # 断言两个两个数的平方和的平方根函数的结果近似相等
    # 测试最小公倍数函数 `lcm` 的结果是否正确
    def test_lcm(self):
        # 使用 `assert_allclose` 断言检查 `np.lcm` 和 `lcm` 函数计算结果的接近程度
        assert_allclose(np.lcm(5, 6), lcm(5, 6), atol=1e-7, check_dtype=False)

    # 测试 `ldexp` 函数的结果是否正确
    def test_ldexp(self):
        # 使用 `assert_allclose` 断言检查 `np.ldexp` 和 `ldexp` 函数计算结果的接近程度
        assert_allclose(np.ldexp(0.5, 6), ldexp(0.5, 6), atol=1e-7, check_dtype=False)

    # 测试左移位函数 `left_shift` 的结果是否正确
    def test_left_shift(self):
        # 使用 `assert_allclose` 断言检查 `np.left_shift` 和 `left_shift` 函数计算结果的接近程度
        assert_allclose(
            np.left_shift(5, 6), left_shift(5, 6), atol=1e-7, check_dtype=False
        )

    # 测试小于比较函数 `less` 的结果是否正确
    def test_less(self):
        # 使用 `assert_allclose` 断言检查 `np.less` 和 `less` 函数计算结果的接近程度
        assert_allclose(np.less(0.5, 0.6), less(0.5, 0.6), atol=1e-7, check_dtype=False)

    # 测试小于等于比较函数 `less_equal` 的结果是否正确
    def test_less_equal(self):
        # 使用 `assert_allclose` 断言检查 `np.less_equal` 和 `less_equal` 函数计算结果的接近程度
        assert_allclose(
            np.less_equal(0.5, 0.6), less_equal(0.5, 0.6), atol=1e-7, check_dtype=False
        )

    # 测试 `logaddexp` 函数的结果是否正确
    def test_logaddexp(self):
        # 使用 `assert_allclose` 断言检查 `np.logaddexp` 和 `logaddexp` 函数计算结果的接近程度
        assert_allclose(
            np.logaddexp(0.5, 0.6), logaddexp(0.5, 0.6), atol=1e-7, check_dtype=False
        )

    # 测试 `logaddexp2` 函数的结果是否正确
    def test_logaddexp2(self):
        # 使用 `assert_allclose` 断言检查 `np.logaddexp2` 和 `logaddexp2` 函数计算结果的接近程度
        assert_allclose(
            np.logaddexp2(0.5, 0.6), logaddexp2(0.5, 0.6), atol=1e-7, check_dtype=False
        )

    # 测试逻辑与函数 `logical_and` 的结果是否正确
    def test_logical_and(self):
        # 使用 `assert_allclose` 断言检查 `np.logical_and` 和 `logical_and` 函数计算结果的接近程度
        assert_allclose(
            np.logical_and(0.5, 0.6),
            logical_and(0.5, 0.6),
            atol=1e-7,
            check_dtype=False,
        )

    # 测试逻辑或函数 `logical_or` 的结果是否正确
    def test_logical_or(self):
        # 使用 `assert_allclose` 断言检查 `np.logical_or` 和 `logical_or` 函数计算结果的接近程度
        assert_allclose(
            np.logical_or(0.5, 0.6), logical_or(0.5, 0.6), atol=1e-7, check_dtype=False
        )

    # 测试逻辑异或函数 `logical_xor` 的结果是否正确
    def test_logical_xor(self):
        # 使用 `assert_allclose` 断言检查 `np.logical_xor` 和 `logical_xor` 函数计算结果的接近程度
        assert_allclose(
            np.logical_xor(0.5, 0.6),
            logical_xor(0.5, 0.6),
            atol=1e-7,
            check_dtype=False,
        )

    # 测试矩阵乘法函数 `matmul` 的结果是否正确
    def test_matmul(self):
        # 使用 `assert_allclose` 断言检查 `np.matmul` 和 `matmul` 函数计算结果的接近程度
        assert_allclose(
            np.matmul([0.5], [0.6]), matmul([0.5], [0.6]), atol=1e-7, check_dtype=False
        )

    # 测试最大值函数 `maximum` 的结果是否正确
    def test_maximum(self):
        # 使用 `assert_allclose` 断言检查 `np.maximum` 和 `maximum` 函数计算结果的接近程度
        assert_allclose(
            np.maximum(0.5, 0.6), maximum(0.5, 0.6), atol=1e-7, check_dtype=False
        )

    # 测试最小值函数 `minimum` 的结果是否正确
    def test_minimum(self):
        # 使用 `assert_allclose` 断言检查 `np.minimum` 和 `minimum` 函数计算结果的接近程度
        assert_allclose(
            np.minimum(0.5, 0.6), minimum(0.5, 0.6), atol=1e-7, check_dtype=False
        )

    # 测试取余函数 `remainder` 的结果是否正确
    def test_remainder(self):
        # 使用 `assert_allclose` 断言检查 `np.remainder` 和 `remainder` 函数计算结果的接近程度
        assert_allclose(
            np.remainder(0.5, 0.6), remainder(0.5, 0.6), atol=1e-7, check_dtype=False
        )

    # 测试乘法函数 `multiply` 的结果是否正确
    def test_multiply(self):
        # 使用 `assert_allclose` 断言检查 `np.multiply` 和 `multiply` 函数计算结果的接近程度
        assert_allclose(
            np.multiply(0.5, 0.6), multiply(0.5, 0.6), atol=1e-7, check_dtype=False
        )

    # 测试接近值函数 `nextafter` 的结果是否正确
    def test_nextafter(self):
        # 使用 `assert_allclose` 断言检查 `np.nextafter` 和 `nextafter` 函数计算结果的接近程度
        assert_allclose(
            np.nextafter(0.5, 0.6), nextafter(0.5, 0.6), atol=1e-7, check_dtype=False
        )

    # 测试不等于比较函数 `not_equal` 的结果是否正确
    def test_not_equal(self):
        # 使用 `assert_allclose` 断言检查 `np.not_equal` 和 `not_equal` 函数计算结果的接近程度
        assert_allclose(
            np.not_equal(0.5, 0.6), not_equal(0.5, 0.6), atol=1e-7, check_dtype=False
        )

    # 测试幂函数 `power` 的结果是否正确
    def test_power(self):
        # 使用 `assert_allclose` 断言检查 `np.power` 和 `power` 函数计算结果的接近程度
        assert_allclose(
            np.power(0.5, 0.6), power(0.5, 0.6), atol=1e-7, check_dtype=False
        )

    # 测试右移位函数 `right_shift` 的结果是否正确
    def test_right_shift(self):
        # 使用 `assert_allclose` 断言检查 `np.right_shift` 和 `right_shift` 函数计算结果的接近程度
        assert_allclose(
            np.right_shift(5, 6), right_shift(5, 6), atol=1e-7, check_dtype=False
        )

    # 测试减法函数 `subtract` 的结果是否正确
    def test_subtract(self):
        # 使用 `assert_allclose` 断言检查 `np.subtract` 和 `subtract` 函数计算结果的接近程度
        assert_allclose(
            np.subtract(0.5, 0.6), subtract(0.5, 0.6), atol=1e-7, check_dtype=False
        )
# 如果这个脚本被直接运行，而不是被导入到其他模块中执行
if __name__ == "__main__":
    # 调用运行测试函数，用于执行该模块的测试逻辑或主要功能
    run_tests()
```