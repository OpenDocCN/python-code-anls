# MetaGPTæºç è§£æ 0

# MetaGPT: The Multi-Agent Framework

<p align="center">
<a href=""><img src="docs/resources/MetaGPT-new-log.png" alt="MetaGPT logo: Enable GPT to work in software company, collaborating to tackle more complex tasks." width="150px"></a>
</p>

<p align="center">
<b>Assign different roles to GPTs to form a collaborative software entity for complex tasks.</b>
</p>

<p align="center">
<a href="docs/README_CN.md"><img src="https://img.shields.io/badge/æ–‡æ¡£-ä¸­æ–‡ç‰ˆ-blue.svg" alt="CN doc"></a>
<a href="README.md"><img src="https://img.shields.io/badge/document-English-blue.svg" alt="EN doc"></a>
<a href="docs/README_JA.md"><img src="https://img.shields.io/badge/ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ-æ—¥æœ¬èª-blue.svg" alt="JA doc"></a>
<a href="https://discord.gg/wCp6Q3fsAk"><img src="https://img.shields.io/badge/Discord-Join-blue?logo=discord&logoColor=white&color=blue" alt="Discord Follow"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a>
<a href="docs/ROADMAP.md"><img src="https://img.shields.io/badge/ROADMAP-è·¯çº¿å›¾-blue" alt="roadmap"></a>
<a href="https://twitter.com/MetaGPT_"><img src="https://img.shields.io/twitter/follow/MetaGPT?style=social" alt="Twitter Follow"></a>
</p>

<p align="center">
   <a href="https://airtable.com/appInfdG0eJ9J4NNL/shrEd9DrwVE3jX6oz"><img src="https://img.shields.io/badge/AgentStore-Waitlist-ffc107?logoColor=white" alt="AgentStore Waitlist"></a>
   <a href="https://vscode.dev/redirect?url=vscode://ms-vscode-remote.remote-containers/cloneInVolume?url=https://github.com/geekan/MetaGPT"><img src="https://img.shields.io/static/v1?label=Dev%20Containers&message=Open&color=blue&logo=visualstudiocode" alt="Open in Dev Containers"></a>
   <a href="https://codespaces.new/geekan/MetaGPT"><img src="https://img.shields.io/badge/Github_Codespace-Open-blue?logo=github" alt="Open in GitHub Codespaces"></a>
   <a href="https://huggingface.co/spaces/deepwisdom/MetaGPT" target="_blank"><img alt="Hugging Face" src="https://img.shields.io/badge/%F0%9F%A4%97%20-Hugging%20Face-blue?color=blue&logoColor=white" /></a>
</p>

1. MetaGPT takes a **one line requirement** as input and outputs **user stories / competitive analysis / requirements / data structures / APIs / documents, etc.**
2. Internally, MetaGPT includes **product managers / architects / project managers / engineers.** It provides the entire process of a **software company along with carefully orchestrated SOPs.**
   1. `Code = SOP(Team)` is the core philosophy. We materialize SOP and apply it to teams composed of LLMs.

![A software company consists of LLM-based roles](docs/resources/software_company_cd.jpeg)

<p align="center">Software Company Multi-Role Schematic (Gradually Implementing)</p>

## MetaGPT's Abilities


https://github.com/geekan/MetaGPT/assets/34952977/34345016-5d13-489d-b9f9-b82ace413419



## Examples (fully generated by GPT-4)

For example, if you type `python startup.py "Design a RecSys like Toutiao"`, you would get many outputs, one of them is data & api design

![Jinri Toutiao Recsys Data & API Design](docs/resources/workspace/content_rec_sys/resources/data_api_design.png)

It costs approximately **$0.2** (in GPT-4 API fees) to generate one example with analysis and design, and around **$2.0** for a full project.




## Installation

### Installation Video Guide

- [Matthew Berman: How To Install MetaGPT - Build A Startup With One Prompt!!](https://youtu.be/uT75J_KG_aY)

### Traditional Installation

```pybash
# Step 1: Ensure that NPM is installed on your system. Then install mermaid-js. (If you don't have npm in your computer, please go to the Node.js official website to install Node.js https://nodejs.org/ and then you will have npm tool in your computer.)
npm --version
sudo npm install -g @mermaid-js/mermaid-cli

# Step 2: Ensure that Python 3.9+ is installed on your system. You can check this by using:
python --version

# Step 3: Clone the repository to your local machine, and install it.
git clone https://github.com/geekan/metagpt
cd metagpt
pip install -e.
```

**Note:**

- If already have Chrome, Chromium, or MS Edge installed, you can skip downloading Chromium by setting the environment variable
  `PUPPETEER_SKIP_CHROMIUM_DOWNLOAD` to `true`.

- Some people are [having issues](https://github.com/mermaidjs/mermaid.cli/issues/15) installing this tool globally. Installing it locally is an alternative solution,

  ```pybash
  npm install @mermaid-js/mermaid-cli
  ```

- don't forget to the configuration for mmdc in config.yml

  ```pyyml
  PUPPETEER_CONFIG: "./config/puppeteer-config.json"
  MMDC: "./node_modules/.bin/mmdc"
  ```

- if `pip install -e.` fails with error `[Errno 13] Permission denied: '/usr/local/lib/python3.11/dist-packages/test-easy-install-13129.write-test'`, try instead running `pip install -e. --user`

- To convert Mermaid charts to SVG, PNG, and PDF formats. In addition to the Node.js version of Mermaid-CLI, you now have the option to use Python version Playwright, pyppeteer or mermaid.ink for this task.

  - Playwright
    - **Install Playwright**

    ```pybash
    pip install playwright
    ```

    - **Install the Required Browsers**

    to support PDF conversion, please install Chrominum.

    ```pybash
    playwright install --with-deps chromium
    ```

    - **modify `config.yaml`**

    uncomment MERMAID_ENGINE from config.yaml and change it to `playwright`

    ```pyyaml
    MERMAID_ENGINE: playwright
    ```

  - pyppeteer
    - **Install pyppeteer**

    ```pybash
    pip install pyppeteer
    ```

    - **Use your own Browsers**

    pyppeteer allows you use installed browsers,  please set the following envirment
    
    ```pybash
    export PUPPETEER_EXECUTABLE_PATH = /path/to/your/chromium or edge or chrome
    ```

    please do not use this command to install browser, it is too old

    ```pybash
    pyppeteer-install
    ```

    - **modify `config.yaml`**

    uncomment MERMAID_ENGINE from config.yaml and change it to `pyppeteer`

    ```pyyaml
    MERMAID_ENGINE: pyppeteer
    ```

  - mermaid.ink
    - **modify `config.yaml`**

    uncomment MERMAID_ENGINE from config.yaml and change it to `ink`

    ```pyyaml
    MERMAID_ENGINE: ink
    ```  

    Note: this method does not support pdf export.

### Installation by Docker

```pybash
# Step 1: Download metagpt official image and prepare config.yaml
docker pull metagpt/metagpt:latest
mkdir -p /opt/metagpt/{config,workspace}
docker run --rm metagpt/metagpt:latest cat /app/metagpt/config/config.yaml > /opt/metagpt/config/key.yaml
vim /opt/metagpt/config/key.yaml # Change the config

# Step 2: Run metagpt demo with container
docker run --rm \
    --privileged \
    -v /opt/metagpt/config/key.yaml:/app/metagpt/config/key.yaml \
    -v /opt/metagpt/workspace:/app/metagpt/workspace \
    metagpt/metagpt:latest \
    python startup.py "Write a cli snake game"

# You can also start a container and execute commands in it
docker run --name metagpt -d \
    --privileged \
    -v /opt/metagpt/config/key.yaml:/app/metagpt/config/key.yaml \
    -v /opt/metagpt/workspace:/app/metagpt/workspace \
    metagpt/metagpt:latest

docker exec -it metagpt /bin/bash
$ python startup.py "Write a cli snake game"
```

The command `docker run ...` do the following things:

- Run in privileged mode to have permission to run the browser
- Map host configure file `/opt/metagpt/config/key.yaml` to container `/app/metagpt/config/key.yaml`
- Map host directory `/opt/metagpt/workspace` to container `/app/metagpt/workspace`
- Execute the demo command `python startup.py "Write a cli snake game"`

### Build image by yourself

```pybash
# You can also build metagpt image by yourself.
git clone https://github.com/geekan/MetaGPT.git
cd MetaGPT && docker build -t metagpt:custom .
```

## Configuration

- Configure your `OPENAI_API_KEY` in any of `config/key.yaml / config/config.yaml / env`
- Priority order: `config/key.yaml > config/config.yaml > env`

```pybash
# Copy the configuration file and make the necessary modifications.
cp config/config.yaml config/key.yaml
```

| Variable Name                              | config/key.yaml                           | env                                             |
| ------------------------------------------ | ----------------------------------------- | ----------------------------------------------- |
| OPENAI_API_KEY # Replace with your own key | OPENAI_API_KEY: "sk-..."                  | export OPENAI_API_KEY="sk-..."                  |
| OPENAI_API_BASE # Optional                 | OPENAI_API_BASE: "https://<YOUR_SITE>/v1" | export OPENAI_API_BASE="https://<YOUR_SITE>/v1" |

## Tutorial: Initiating a startup

```pyshell
# Run the script
python startup.py "Write a cli snake game"
# Do not hire an engineer to implement the project
python startup.py "Write a cli snake game" --implement False
# Hire an engineer and perform code reviews
python startup.py "Write a cli snake game" --code_review True
```

After running the script, you can find your new project in the `workspace/` directory.

### Preference of Platform or Tool

You can tell which platform or tool you want to use when stating your requirements.

```pyshell
python startup.py "Write a cli snake game based on pygame"
```

### Usage

```py
NAME
    startup.py - We are a software startup comprised of AI. By investing in us, you are empowering a future filled with limitless possibilities.

SYNOPSIS
    startup.py IDEA <flags>

DESCRIPTION
    We are a software startup comprised of AI. By investing in us, you are empowering a future filled with limitless possibilities.

POSITIONAL ARGUMENTS
    IDEA
        Type: str
        Your innovative idea, such as "Creating a snake game."

FLAGS
    --investment=INVESTMENT
        Type: float
        Default: 3.0
        As an investor, you have the opportunity to contribute a certain dollar amount to this AI company.
    --n_round=N_ROUND
        Type: int
        Default: 5

NOTES
    You can also use flags syntax for POSITIONAL ARGUMENTS
```

### Code walkthrough

```pypython
from metagpt.software_company import SoftwareCompany
from metagpt.roles import ProjectManager, ProductManager, Architect, Engineer

async def startup(idea: str, investment: float = 3.0, n_round: int = 5):
    """Run a startup. Be a boss."""
    company = SoftwareCompany()
    company.hire([ProductManager(), Architect(), ProjectManager(), Engineer()])
    company.invest(investment)
    company.start_project(idea)
    await company.run(n_round=n_round)
```

You can check `examples` for more details on single role (with knowledge base) and LLM only examples.

## QuickStart

It is difficult to install and configure the local environment for some users. The following tutorials will allow you to quickly experience the charm of MetaGPT.

- [MetaGPT quickstart](https://deepwisdom.feishu.cn/wiki/CyY9wdJc4iNqArku3Lncl4v8n2b)

Try it on Huggingface Space
- https://huggingface.co/spaces/deepwisdom/MetaGPT

## Citation

For now, cite the [Arxiv paper](https://arxiv.org/abs/2308.00352):

```pybibtex
@misc{hong2023metagpt,
      title={MetaGPT: Meta Programming for Multi-Agent Collaborative Framework},
      author={Sirui Hong and Xiawu Zheng and Jonathan Chen and Yuheng Cheng and Jinlin Wang and Ceyao Zhang and Zili Wang and Steven Ka Shing Yau and Zijuan Lin and Liyang Zhou and Chenyu Ran and Lingfeng Xiao and Chenglin Wu},
      year={2023},
      eprint={2308.00352},
      archivePrefix={arXiv},
      primaryClass={cs.AI}
}
```

## Contact Information

If you have any questions or feedback about this project, please feel free to contact us. We highly appreciate your suggestions!

- **Email:** alexanderwu@fuzhi.ai
- **GitHub Issues:** For more technical inquiries, you can also create a new issue in our [GitHub repository](https://github.com/geekan/metagpt/issues).

We will respond to all questions within 2-3 business days.

## Demo

https://github.com/geekan/MetaGPT/assets/2707039/5e8c1062-8c35-440f-bb20-2b0320f8d27d

## Join us

ğŸ“¢ Join Our Discord Channel!
https://discord.gg/ZRHeExS6xv

Looking forward to seeing you there! ğŸ‰


# `setup.py`

è¯¥ä»£ç æ˜¯ä¸€ä¸ª Python çš„ç±»ï¼Œå±äº `wutils` åŒ…ã€‚å®ƒé€šè¿‡ `subprocess` åº“å®‰è£… `mermaid-js/mermaid-cli` åŒ…çš„ `@mermaid-js/mermaid-cli` ä¾èµ–ï¼Œä½¿ç”¨ `find_packages` å‡½æ•°æŸ¥æ‰¾ `wutils` åŒ…çš„ä¾èµ–ï¼Œç„¶åé€šè¿‡ `setup` å‡½æ•°è®¾ç½®å‘½ä»¤è¡Œå‚æ•°ï¼Œæœ€åé€šè¿‡ `Command` ç±»åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰å‘½ä»¤è¡Œç±»ï¼Œæ‰§è¡Œ `npm install -g @mermaid-js/mermaid-cli` å‘½ä»¤ã€‚


```py
"""wutils: handy tools
"""
import subprocess
from codecs import open
from os import path

from setuptools import Command, find_packages, setup


class InstallMermaidCLI(Command):
    """A custom command to run `npm install -g @mermaid-js/mermaid-cli` via a subprocess."""

    description = "install mermaid-cli"
    user_options = []

    def run(self):
        try:
            subprocess.check_call(["npm", "install", "-g", "@mermaid-js/mermaid-cli"])
        except subprocess.CalledProcessError as e:
            print(f"Error occurred: {e.output}")


```

è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªåä¸º "metagpt" çš„ Python åŒ…ï¼Œå¹¶åŒ…å«ä¸€ä¸ªç”¨äºè¯»å–å’Œå†™å…¥ README.md å’Œ requirements.txt æ–‡ä»¶çš„ç»„ä»¶ã€‚

å…·ä½“æ¥è¯´ï¼Œä»£ç é¦–å…ˆé€šè¿‡ abspath æ–¹æ³•è·å–äº†å½“å‰å·¥ä½œç›®å½•ï¼ˆå³åŒ…æ‰€åœ¨çš„ç›®å½•ï¼‰çš„ç»å¯¹è·¯å¾„ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨åä¸º here çš„å˜é‡ä¸­ã€‚æ¥ä¸‹æ¥ï¼Œä»£ç ä½¿ç”¨ with è¯­å¥æ‰“å¼€äº†ä¸€ä¸ªåä¸º "README.md" çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶å†…å®¹è¯»å–åˆ°ä¸€ä¸ªå˜é‡ long_description ä¸­ã€‚ç„¶åï¼Œä»£ç å†æ¬¡ä½¿ç”¨ with è¯­å¥æ‰“å¼€äº†ä¸€ä¸ªåä¸º "requirements.txt" çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶å†…å®¹è¯»å–åˆ°å¤šä¸ªå˜é‡ requirements ä¸­ï¼Œæ¯ä¸ªå˜é‡éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„è¡Œã€‚

æ¥ç€ï¼Œä»£ç é€šè¿‡ find_packages å‡½æ•°æŸ¥æ‰¾å¹¶å®‰è£…äº†å‡ ä¸ª Python åº“ï¼Œè¿™äº›åº“è¢«ç”¨äºæ„å»º Meta-GPTã€‚æœ€åï¼Œä»£ç å®šä¹‰äº†åŒ…çš„ç‰ˆæœ¬ã€æè¿°ã€ä¾èµ–å…³ç³»ç­‰ä¿¡æ¯ï¼Œå¹¶æä¾›äº†å‡ ä¸ªå¯ç”¨äºå®‰è£… Meta-GPT çš„å‘½ä»¤ã€‚


```py
here = path.abspath(path.dirname(__file__))

with open(path.join(here, "README.md"), encoding="utf-8") as f:
    long_description = f.read()

with open(path.join(here, "requirements.txt"), encoding="utf-8") as f:
    requirements = [line.strip() for line in f if line]

setup(
    name="metagpt",
    version="0.1",
    description="The Multi-Role Meta Programming Framework",
    long_description=long_description,
    long_description_content_type="text/markdown",
    url="https://gitlab.deepwisdomai.com/pub/metagpt",
    author="Alexander Wu",
    author_email="alexanderwu@fuzhi.ai",
    license="Apache 2.0",
    keywords="metagpt multi-role multi-agent programming gpt llm",
    packages=find_packages(exclude=["contrib", "docs", "examples"]),
    python_requires=">=3.9",
    install_requires=requirements,
    extras_require={
        "playwright": ["playwright>=1.26", "beautifulsoup4"],
        "selenium": ["selenium>4", "webdriver_manager", "beautifulsoup4"],
        "search-google": ["google-api-python-client==2.94.0"],
        "search-ddg": ["duckduckgo-search==3.8.5"],
        "pyppeteer": ["pyppeteer>=1.0.2"],
    },
    cmdclass={
        "install_mermaid": InstallMermaidCLI,
    },
)

```

# `startup.py`

è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªPythonè„šæœ¬ï¼Œä½¿ç”¨äº†`asyncio`ã€`fire`å’Œ`metagpt`åº“ã€‚å®ƒçš„ä½œç”¨æ˜¯å¯åŠ¨ä¸€ä¸ªAsyncioæœåŠ¡å™¨ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªæœåŠ¡å™¨æ¥è¿æ¥åˆ°å¦ä¸€ä¸ªåä¸º"äººå·¥æ™ºèƒ½ç¼–è¾‘å™¨"çš„è½¯ä»¶ï¼Œè¿›è¡Œä¸€ç³»åˆ—çš„ä»»åŠ¡ã€‚

å…·ä½“æ¥è¯´ï¼Œè¿™æ®µä»£ç ä¼šï¼š

1. å¯¼å…¥`asyncio`ã€`fire`å’Œ`metagpt`åº“ã€‚
2. å¯¼å…¥è‡ªå®šä¹‰çš„`Architect`ã€`Engineer`ã€`ProductManager`ã€`ProjectManager`å’Œ`QaEngineer`ç±»ï¼Œè¿™äº›ç±»éƒ½ç»§æ‰¿è‡ª`metagpt.roles`ç±»ï¼Œç”¨äºå®ç°ä¸"äººå·¥æ™ºèƒ½ç¼–è¾‘å™¨"çš„äº¤äº’ã€‚
3. å¯¼å…¥`SoftwareCompany`ç±»ï¼Œç”¨äºåœ¨"äººå·¥æ™ºèƒ½ç¼–è¾‘å™¨"ä¸­ä»£è¡¨å…¬å¸ã€‚
4. åœ¨è„šæœ¬çš„å¼€å§‹éƒ¨åˆ†ï¼Œä½¿ç”¨`asyncio.run`å‡½æ•°åˆ›å»ºä¸€ä¸ªå¼‚æ­¥æœåŠ¡å™¨ã€‚è¿™ä¸ªæœåŠ¡å™¨å°†ç›‘å¬æ¥è‡ª"äººå·¥æ™ºèƒ½ç¼–è¾‘å™¨"çš„è¿æ¥è¯·æ±‚ï¼Œå¹¶è´Ÿè´£å°†å®ƒä»¬è½¬å‘ç»™"äººå·¥æ™ºèƒ½ç¼–è¾‘å™¨"çš„ç›¸åº”è§’è‰²ã€‚
5. åœ¨æœåŠ¡å™¨è¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨`fire.start`å‡½æ•°æ¥å¯åŠ¨"äººå·¥æ™ºèƒ½ç¼–è¾‘å™¨"åº”ç”¨ç¨‹åºã€‚è¿™ä¸ªåº”ç”¨ç¨‹åºä¼šå°†ä¸€äº›ä»»åŠ¡å§”æ‰˜ç»™"äººå·¥æ™ºèƒ½ç¼–è¾‘å™¨"ä¸­çš„AIï¼Œä»¥æ‰§è¡Œä¸€äº›ç¼–è¾‘å·¥ä½œã€‚
6. åœ¨"äººå·¥æ™ºèƒ½ç¼–è¾‘å™¨"åº”ç”¨ç¨‹åºä¸­ï¼Œä½¿ç”¨`asyncio.sleep`å‡½æ•°æ¥ç­‰å¾…AIå®Œæˆä»»åŠ¡ã€‚
7. åœ¨è„šæœ¬çš„æœ€åéƒ¨åˆ†ï¼Œä½¿ç”¨`fire.put`å‡½æ•°ï¼Œå°†"äººå·¥æ™ºèƒ½ç¼–è¾‘å™¨"åº”ç”¨ç¨‹åºçš„æ‰€æœ‰è¾“å‡ºç»“æœæäº¤ç»™"äººå·¥æ™ºèƒ½ç¼–è¾‘å™¨"ä¸­ä»£è¡¨å…¬å¸çš„è§’è‰²ã€‚


```py
#!/usr/bin/env python
# -*- coding: utf-8 -*-
import asyncio

import fire

from metagpt.roles import (
    Architect,
    Engineer,
    ProductManager,
    ProjectManager,
    QaEngineer,
)
from metagpt.software_company import SoftwareCompany


```

è¿™æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ªåä¸ºstartupçš„å‡½æ•°ï¼Œç”¨äºå¯åŠ¨ä¸€å®¶åä¸º"SoftwareCompany"çš„å…¬å¸ã€‚å‡½æ•°æ¥æ”¶å¤šä¸ªå‚æ•°ï¼ŒåŒ…æ‹¬ä¸€ä¸ªideaå‚æ•°ï¼Œä¸€ä¸ªinvestmentå‚æ•°(é»˜è®¤å€¼ä¸º3.0)ï¼Œä»¥åŠä¸€ä¸ªn_roundå‚æ•°(é»˜è®¤å€¼ä¸º5)ï¼Œç”¨äºè¿è¡Œå¤šå°‘æ¬¡startupå‡½æ•°ã€‚å‡½æ•°è¿˜åŒ…æ‹¬ä¸€ä¸ªcode_reviewå‚æ•°(é»˜è®¤å€¼ä¸ºFalse)ï¼Œç”¨äºæŒ‡ç¤ºæ˜¯å¦è¦è¿›è¡Œä»£ç å®¡æŸ¥ï¼Œä»¥åŠä¸€ä¸ªrun_testså‚æ•°(é»˜è®¤å€¼ä¸ºFalse)ï¼Œç”¨äºæŒ‡ç¤ºæ˜¯å¦è¦åœ¨è¿è¡Œæ—¶è¿è¡Œå•å…ƒæµ‹è¯•ã€‚

å¦‚æœè®¾ç½®äº†run_testså‚æ•°ä¸ºTrueï¼Œé‚£ä¹ˆå‡½æ•°å°†ä½¿ç”¨QaEngineer(è´¨é‡ä¿è¯å‘˜)å¼€å‘åŠŸèƒ½ï¼Œå¹¶åœ¨è¿è¡Œæ—¶è¿è¡Œå•å…ƒæµ‹è¯•ã€‚å¦‚æœè®¾ç½®äº†code_reviewå‚æ•°ä¸ºTrueï¼Œé‚£ä¹ˆå‡½æ•°å°†ä½¿ç”¨CodeReviewer(ä»£ç å®¡æŸ¥å‘˜)å¼€å‘åŠŸèƒ½ï¼Œå¹¶åœ¨è¿è¡Œæ—¶è¿è¡Œä»£ç å®¡æŸ¥ã€‚å¦‚æœè®¾ç½®äº†implementå‚æ•°ä¸ºTrueï¼Œé‚£ä¹ˆå‡½æ•°å°†ä½¿ç”¨Engineer(å·¥ç¨‹å¸ˆ)å¼€å‘åŠŸèƒ½ï¼Œå¹¶åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦ä¿®æ”¹ç°æœ‰çš„ä»£ç ã€‚

åœ¨å‡½æ•°ä¸­ï¼Œä½¿ç”¨SoftwareCompany()åˆ›å»ºäº†ä¸€å®¶å…¬å¸ï¼Œå¹¶ä½¿ç”¨äº†å¤šä¸ª hiring() æ–¹æ³•(hire,invest,start_project,run)æ¥æ‹›å‹Ÿå‘˜å·¥ï¼Œå¯åŠ¨é¡¹ç›®ï¼Œè¿è¡Œå…¬å¸ã€‚æœ€åï¼Œå¦‚æœè®¾ç½®äº†is_code_reviewå’Œis_run_testså‚æ•°ä¸ºTrueï¼Œé‚£ä¹ˆå°†ç”¨ç›¸åº”çš„å¼€å‘äººå‘˜æ¥è¿è¡Œä»£ç ã€‚


```py
async def startup(
    idea: str,
    investment: float = 3.0,
    n_round: int = 5,
    code_review: bool = False,
    run_tests: bool = False,
    implement: bool = True,
):
    """Run a startup. Be a boss."""
    company = SoftwareCompany()
    company.hire(
        [
            ProductManager(),
            Architect(),
            ProjectManager(),
        ]
    )

    # if implement or code_review
    if implement or code_review:
        # developing features: implement the idea
        company.hire([Engineer(n_borg=5, use_code_review=code_review)])

    if run_tests:
        # developing features: run tests on the spot and identify bugs
        # (bug fixing capability comes soon!)
        company.hire([QaEngineer()])

    company.invest(investment)
    company.start_project(idea)
    await company.run(n_round=n_round)


```

è¿™æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ªåä¸º `main` çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€äº›å‚æ•°å¹¶è¿”å›ç»“æœã€‚å‡½æ•°çš„ä½œç”¨æ˜¯å¯åŠ¨ä¸€ä¸ª AI å…¬å¸çš„æœ€å°è½»é‡çº§ç‰ˆæœ¬ï¼Œä½¿ç”¨æˆ·èƒ½å¤ŸæŠ•èµ„äºè¿™ä¸ªå…¬å¸å¹¶èµ„åŠ©ä»–ä»¬çš„åˆ›æ–°é¡¹ç›®ã€‚

å…·ä½“æ¥è¯´ï¼Œè¿™æ®µä»£ç çš„ä½œç”¨å¦‚ä¸‹ï¼š

1. æ¥å—å‚æ•° `idea`ã€`investment`ã€`n_round` å’Œ `code_review`ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯åˆ›æ–°é¡¹ç›®çš„æƒ³æ³•ã€æŠ•èµ„é‡‘é¢ã€æµ‹è¯•å¾ªç¯æ¬¡æ•°å’Œä»£ç å®¡æ ¸é€‰é¡¹ã€‚
2. é€šè¿‡è°ƒç”¨ `startup` å‡½æ•°ï¼Œåˆå§‹åŒ–è¿™äº›å‚æ•°ã€‚è¿™ä¸ªå‡½æ•°ä½¿ç”¨ `asyncio` åŒ…æä¾›çš„é«˜çº§éé˜»å¡ç¼–ç¨‹æŠ€æœ¯ï¼Œå¯ä»¥è®©å®ƒç«‹å³è¿”å›å¹¶ç­‰å¾…ç»“æœï¼Œè€Œä¸æ˜¯åœ¨æ¯æ¬¡å¾ªç¯ç»“æŸåæ‰è¿”å›ã€‚
3. é€šè¿‡è°ƒç”¨ `asyncio.run` å‡½æ•°ï¼Œè®© `startup` å‡½æ•°è¿”å›ä¸€ä¸ªåç¨‹å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä»£è¡¨ä¸€ä¸ªä»»åŠ¡ï¼Œä¼šåœ¨æäº¤æ—¶æ‰§è¡Œã€‚
4. é€šè¿‡è°ƒç”¨ `startup` å‡½æ•°ä¸­çš„ `idea` å‚æ•°ï¼Œå°†åˆ›æ–°é¡¹ç›®çš„æƒ³æ³•ä¿å­˜åˆ° `idea` åç¨‹å˜é‡ä¸­ã€‚
5. é€šè¿‡è°ƒç”¨ `startup` å‡½æ•°ä¸­çš„ `investment` å‚æ•°ï¼Œè®¾ç½®æŠ•èµ„é‡‘é¢ã€‚
6. é€šè¿‡è°ƒç”¨ `startup` å‡½æ•°ä¸­çš„ `n_round` å‚æ•°ï¼Œè®¾ç½®æµ‹è¯•å¾ªç¯æ¬¡æ•°ã€‚
7. é€šè¿‡è°ƒç”¨ `startup` å‡½æ•°ä¸­çš„ `code_review` å‚æ•°ï¼Œè®¾ç½®æ˜¯å¦ä½¿ç”¨ä»£ç å®¡æ ¸ã€‚
8. é€šè¿‡è°ƒç”¨ `startup` å‡½æ•°ä¸­çš„ `run_tests` å‚æ•°ï¼Œè®¾ç½®æ˜¯å¦è¿è¡Œæµ‹è¯•ã€‚
9. é€šè¿‡è°ƒç”¨ `startup` å‡½æ•°ä¸­çš„ `implement` å‚æ•°ï¼Œè®¾ç½®æ˜¯å¦å®ç°åˆ›æ–°é¡¹ç›®ã€‚
10. é€šè¿‡è°ƒç”¨ `asyncio.run` å‡½æ•°ä¸­çš„ `startup` å‡½æ•°ï¼Œæäº¤ `idea` åç¨‹å˜é‡ï¼Œå¹¶å¯åŠ¨å…¬å¸ã€‚


```py
def main(
    idea: str,
    investment: float = 3.0,
    n_round: int = 5,
    code_review: bool = True,
    run_tests: bool = False,
    implement: bool = True,
):
    """
    We are a software startup comprised of AI. By investing in us,
    you are empowering a future filled with limitless possibilities.
    :param idea: Your innovative idea, such as "Creating a snake game."
    :param investment: As an investor, you have the opportunity to contribute
    a certain dollar amount to this AI company.
    :param n_round:
    :param code_review: Whether to use code review.
    :return:
    """
    asyncio.run(startup(idea, investment, n_round, code_review, run_tests, implement))


```

è¿™æ®µä»£ç æ˜¯åœ¨ Python è„šæœ¬ä¸­ï¼Œå¦‚æœè„šæœ¬è¢«è¿è¡Œä¸ºå•ç‹¬çš„ç¯å¢ƒ(å¦‚ä½œä¸ºäº¤äº’å¼shell)ï¼Œåˆ™ä¼šå¯¼è‡´ä»£ç ä¸­çš„ `if __name__ == "__main__":` è¯­å¥æ°¸è¿œæ— æ³•æ‰§è¡Œï¼Œå› ä¸ºè¯¥ä»£ç å—ä¼šæ£€æŸ¥ `__name__` æ˜¯å¦ä¸ `__main__` ç›¸ç­‰ï¼Œè€Œåœ¨äº¤äº’å¼ç¯å¢ƒä¸­ï¼Œè¯¥æ£€æŸ¥ä¸ä¼šå§‹ç»ˆç”Ÿæ•ˆã€‚

å› æ­¤ï¼Œè¿™æ®µä»£ç çš„ä½œç”¨æ˜¯ç¡®ä¿åªæœ‰åœ¨ç¨‹åºè¢«å•ç‹¬è¿è¡Œæ—¶ï¼Œæ‰ä¼šæ‰§è¡Œ `fire.Fire(main)` è¿™ä¸€è¡Œä»£ç ã€‚æ¢å¥è¯è¯´ï¼Œè¿™æ®µä»£ç ä¼šé˜²æ­¢è„šæœ¬åœ¨è¿è¡Œæ—¶è¢«æ„å¤–åœ°è°ƒç”¨ï¼Œä»è€Œç¡®ä¿ç¨‹åºçš„å®‰å…¨æ€§å’Œç¨³å®šæ€§ã€‚


```py
if __name__ == "__main__":
    fire.Fire(main)

```

# Dev container

This project includes a [dev container](https://containers.dev/), which lets you use a container as a full-featured dev environment.

You can use the dev container configuration in this folder to build and start running MetaGPT locally! For more, refer to the main README under the home directory. 
You can use it in [GitHub Codespaces](https://github.com/features/codespaces) or the [VS Code Dev Containers extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers).

## GitHub Codespaces
<a href="https://codespaces.new/geekan/MetaGPT"><img src="https://github.com/codespaces/badge.svg" alt="Open in GitHub Codespaces"></a>

You may use the button above to open this repo in a Codespace

For more info, check out the [GitHub documentation](https://docs.github.com/en/free-pro-team@latest/github/developing-online-with-codespaces/creating-a-codespace#creating-a-codespace).
  
## VS Code Dev Containers
<a href="https://vscode.dev/redirect?url=vscode://ms-vscode-remote.remote-containers/cloneInVolume?url=https://github.com/geekan/MetaGPT"><img src="https://img.shields.io/static/v1?label=Dev%20Containers&message=Open&color=blue&logo=visualstudiocode" alt="Open in Dev Containers"></a>

Note: If you click this link you will open the main repo and not your local cloned repo, you can use this link and replace with your username and cloned repo name: 
https://vscode.dev/redirect?url=vscode://ms-vscode-remote.remote-containers/cloneInVolume?url=https://github.com/geekan/MetaGPT


If you already have VS Code and Docker installed, you can use the button above to get started. This will cause VS Code to automatically install the Dev Containers extension if needed, clone the source code into a container volume, and spin up a dev container for use.

You can also follow these steps to open this repo in a container using the VS Code Dev Containers extension:

1. If this is your first time using a development container, please ensure your system meets the pre-reqs (i.e. have Docker installed) in the [getting started steps](https://aka.ms/vscode-remote/containers/getting-started).

2. Open a locally cloned copy of the code:

   - Fork and Clone this repository to your local filesystem.
   - Press <kbd>F1</kbd> and select the **Dev Containers: Open Folder in Container...** command.
   - Select the cloned copy of this folder, wait for the container to start, and try things out!

You can learn more in the [Dev Containers documentation](https://code.visualstudio.com/docs/devcontainers/containers).

## Tips and tricks

* If you are working with the same repository folder in a container and Windows, you'll want consistent line endings (otherwise you may see hundreds of changes in the SCM view). The `.gitattributes` file in the root of this repo will disable line ending conversion and should prevent this. See [tips and tricks](https://code.visualstudio.com/docs/devcontainers/tips-and-tricks#_resolving-git-line-ending-issues-in-containers-resulting-in-many-modified-files) for more info.
* If you'd like to review the contents of the image used in this dev container, you can check it out in the [devcontainers/images](https://github.com/devcontainers/images/tree/main/src/python) repo.


Our vision is to [extend human life](https://github.com/geekan/HowToLiveLonger) and [reduce working hours](https://github.com/geekan/MetaGPT/).

1.  ### Convenient Link for Sharing this Document:

```py
- MetaGPT-Index/FAQ https://deepwisdom.feishu.cn/wiki/MsGnwQBjiif9c3koSJNcYaoSnu4
```

2.  ### Link

<!---->

1.  Codeï¼šhttps://github.com/geekan/MetaGPT

1.  Roadmapï¼šhttps://github.com/geekan/MetaGPT/blob/main/docs/ROADMAP.md

1.  EN

    1.  Demo Video: [MetaGPT: Multi-Agent AI Programming Framework](https://www.youtube.com/watch?v=8RNzxZBTW8M)
    2. Tutorial: [MetaGPT: Deploy POWERFUL Autonomous Ai Agents BETTER Than SUPERAGI!](https://www.youtube.com/watch?v=q16Gi9pTG_M&t=659s)
    3. Author's thoughts video(EN): [MetaGPT Matthew Berman](https://youtu.be/uT75J_KG_aY?si=EgbfQNAwD8F5Y1Ak)

1.  CN

    1.  Demo Video: [MetaGPTï¼šä¸€è¡Œä»£ç æ­å»ºä½ çš„è™šæ‹Ÿå…¬å¸_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1NP411C7GW/?spm_id_from=333.999.0.0&vd_source=735773c218b47da1b4bd1b98a33c5c77)
    1.  Tutorial: [ä¸€ä¸ªæç¤ºè¯å†™æ¸¸æˆ Flappy bird, æ¯”AutoGPTå¼º10å€çš„MetaGPTï¼Œæœ€æ¥è¿‘AGIçš„AIé¡¹ç›®](https://youtu.be/Bp95b8yIH5c)
    2.   Author's thoughts video(CN): [MetaGPTä½œè€…æ·±åº¦è§£æç›´æ’­å›æ”¾_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1Ru411V7XL/?spm_id_from=333.337.search-card.all.click)
  
<!---->

3.  ### How to become a contributor?

<!---->

1.  Choose a task from the Roadmap (or you can propose one). By submitting a PR, you can become a contributor and join the dev team.
1.  Current contributors come from backgrounds including ByteDance AI Lab/DingDong/Didi/Xiaohongshu, Tencent/Baidu/MSRA/TikTok/BloomGPT Infra/Bilibili/CUHK/HKUST/CMU/UCB

<!---->

4.  ### Chief Evangelist (Monthly Rotation)

MetaGPT Community - The position of Chief Evangelist rotates on a monthly basis. The primary responsibilities include:

1.  Maintaining community FAQ documents, announcements, and Github resources/READMEs.
1.  Responding to, answering, and distributing community questions within an average of 30 minutes, including on platforms like Github Issues, Discord and WeChat.
1.  Upholding a community atmosphere that is enthusiastic, genuine, and friendly.
1.  Encouraging everyone to become contributors and participate in projects that are closely related to achieving AGI (Artificial General Intelligence).
1.  (Optional) Organizing small-scale events, such as hackathons.

<!---->

5.  ### FAQ

<!---->

1.  Experience with the generated repo code:

    1.  https://github.com/geekan/MetaGPT/releases/tag/v0.1.0

1.  Code truncation/ Parsing failure:

    1.  Check if it's due to exceeding length. Consider using the gpt-3.5-turbo-16k or other long token versions.

1.  Success rate:

    1.  There hasn't been a quantitative analysis yet, but the success rate of code generated by GPT-4 is significantly higher than that of gpt-3.5-turbo.

1.  Support for incremental, differential updates (if you wish to continue a half-done task):

    1.  Several prerequisite tasks are listed on the ROADMAP.

1.  Can existing code be loaded?

    1.  It's not on the ROADMAP yet, but there are plans in place. It just requires some time.

1.  Support for multiple programming languages and natural languages?

    1.  It's listed on ROADMAP.

1.  Want to join the contributor team? How to proceed?

    1.  Merging a PR will get you into the contributor's team. The main ongoing tasks are all listed on the ROADMAP.

1.  PRD stuck / unable to access/ connection interrupted

    1.  The official OPENAI_API_BASE address is `https://api.openai.com/v1`
    1.  If the official OPENAI_API_BASE address is inaccessible in your environment (this can be verified with curl), it's recommended to configure using the reverse proxy OPENAI_API_BASE provided by libraries such as openai-forward. For instance, `OPENAI_API_BASE: "``https://api.openai-forward.com/v1``"`
    1.  If the official OPENAI_API_BASE address is inaccessible in your environment (again, verifiable via curl), another option is to configure the OPENAI_PROXY parameter. This way, you can access the official OPENAI_API_BASE via a local proxy. If you don't need to access via a proxy, please do not enable this configuration; if accessing through a proxy is required, modify it to the correct proxy address. Note that when OPENAI_PROXY is enabled, don't set OPENAI_API_BASE.
    1.  Note: OpenAI's default API design ends with a v1. An example of the correct configuration is: `OPENAI_API_BASE: "``https://api.openai.com/v1``"`

1.  Absolutely! How can I assist you today?

    1.  Did you use Chi or a similar service? These services are prone to errors, and it seems that the error rate is higher when consuming 3.5k-4k tokens in GPT-4

1.  What does Max token mean?

    1.  It's a configuration for OpenAI's maximum response length. If the response exceeds the max token, it will be truncated.

1.  How to change the investment amount?

    1.  You can view all commands by typing `python startup.py --help`

1.  Which version of Python is more stable?

    1.  python3.9 / python3.10

1.  Can't use GPT-4, getting the error "The model gpt-4 does not exist."

    1.  OpenAI's official requirement: You can use GPT-4 only after spending $1 on OpenAI.
    1.  Tip: Run some data with gpt-3.5-turbo (consume the free quota and $1), and then you should be able to use gpt-4.

1.  Can games whose code has never been seen before be written?

    1.  Refer to the README. The recommendation system of Toutiao is one of the most complex systems in the world currently. Although it's not on GitHub, many discussions about it exist online. If it can visualize these, it suggests it can also summarize these discussions and convert them into code. The prompt would be something like "write a recommendation system similar to Toutiao". Note: this was approached in earlier versions of the software. The SOP of those versions was different; the current one adopts Elon Musk's five-step work method, emphasizing trimming down requirements as much as possible.

1.  Under what circumstances would there typically be errors?

    1.  More than 500 lines of code: some function implementations may be left blank.
    1.  When using a database, it often gets the implementation wrong â€” since the SQL database initialization process is usually not in the code.
    1.  With more lines of code, there's a higher chance of false impressions, leading to calls to non-existent APIs.

1.  Instructions for using SD Skills/UI Role:

    1.  Currently, there is a test script located in /tests/metagpt/roles. The file ui_role provides the corresponding code implementation. For testing, you can refer to the test_ui in the same directory.

    1.  The UI role takes over from the product manager role, extending the output from the ã€UI Design draftã€‘ provided by the product manager role. The UI role has implemented the UIDesign Action. Within the run of UIDesign, it processes the respective context, and based on the set template, outputs the UI. The output from the UI role includes:

        1.  UI Design Description: Describes the content to be designed and the design objectives.
        1.  Selected Elementsï¼š Describes the elements in the design that need to be illustrated.
        1.  HTML Layoutï¼š Outputs the HTML code for the page.
        1.  CSS Styles (styles.css)ï¼š Outputs the CSS code for the page.

    1.  Currently, the SD skill is a tool invoked by UIDesign. It instantiates the SDEngine, with specific code found in metagpt/tools/sd_engine.

    1.  Configuration instructions for SD Skills: The SD interface is currently deployed based on *https://github.com/AUTOMATIC1111/stable-diffusion-webui* **For environmental configurations and model downloads, please refer to the aforementioned GitHub repository. To initiate the SD service that supports API calls, run the command specified in cmd with the parameter nowebui, i.e.,

        1.  > python webui.py --enable-insecure-extension-access --port xxx --no-gradio-queue --nowebui
        1.  Â Â Â Â Once it runs without errors, the interface will be accessible after approximately 1 minute when the model finishes loading.
        1.  Configure SD_URL and SD_T2I_API in the config.yaml/key.yaml files.
        1.  ![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/065295a67b0b4feea665d1372722d49d~tplv-k3u1fbpfcp-zoom-1.image)
        1.  Â Â Â Â SD_URL is the deployed server/machine IP, and Port is the specified port above, defaulting to 7860.
        1.  > SD_URL: IP:Port

1.  An error occurred during installation: "Another program is using this file...egg".

    1.  Delete the file and try again.
    1.  Or manually execute`pip install -r requirements.txt`

1.  The origin of the name MetaGPTï¼Ÿ

    1.  The name was derived after iterating with GPT-4 over a dozen rounds. GPT-4 scored and suggested it.

1.  Is there a more step-by-step installation tutorial?

    1.  Youtubeï¼ˆCNï¼‰ï¼š[ä¸€ä¸ªæç¤ºè¯å†™æ¸¸æˆ Flappy bird, æ¯”AutoGPTå¼º10å€çš„MetaGPTï¼Œæœ€æ¥è¿‘AGIçš„AIé¡¹ç›®=ä¸€ä¸ªè½¯ä»¶å…¬å¸äº§å“ç»ç†+ç¨‹åºå‘˜](https://youtu.be/Bp95b8yIH5c)
    1.  Youtubeï¼ˆENï¼‰https://www.youtube.com/watch?v=q16Gi9pTG_M&t=659s
    2.  video(EN): [MetaGPT Matthew Berman](https://youtu.be/uT75J_KG_aY?si=EgbfQNAwD8F5Y1Ak)

1.  openai.error.RateLimitError: You exceeded your current quota, please check your plan and billing details

    1.  If you haven't exhausted your free quota, set RPM to 3 or lower in the settings.
    1.  If your free quota is used up, consider adding funds to your account.

1.  What does "borg" mean in n_borg?

    1.  [Wikipedia borg meaning ](https://en.wikipedia.org/wiki/Borg)
    1.  The Borg civilization operates based on a hive or collective mentality, known as "the Collective." Every Borg individual is connected to the collective via a sophisticated subspace network, ensuring continuous oversight and guidance for every member. This collective consciousness allows them to not only "share the same thoughts" but also to adapt swiftly to new strategies. While individual members of the collective rarely communicate, the collective "voice" sometimes transmits aboard ships.

1.  How to use the Claude APIï¼Ÿ

    1.  The full implementation of the Claude API is not provided in the current code.
    1.  You can use the Claude API through third-party API conversion projects like: https://github.com/jtsang4/claude-to-chatgpt

1.  Is Llama2 supportedï¼Ÿ

    1.  On the day Llama2 was released, some of the community members began experiments and found that output can be generated based on MetaGPT's structure. However, Llama2's context is too short to generate a complete project. Before regularly using Llama2, it's necessary to expand the context window to at least 8k. If anyone has good recommendations for expansion models or methods, please leave a comment.

1.  `mermaid-cli getElementsByTagName SyntaxError: Unexpected token '.'`

    1.  Upgrade node to version 14.x or above:

        1.  `npm install -g n`
        1.  `n stable` to install the stable version of nodeï¼ˆv18.xï¼‰


# MetaGPT: å¤šæ™ºèƒ½ä½“æ¡†æ¶

<p align="center">
<a href=""><img src="resources/MetaGPT-new-log.png" alt="MetaGPT logo: ä½¿ GPT ä»¥è½¯ä»¶å…¬å¸çš„å½¢å¼å·¥ä½œï¼Œåä½œå¤„ç†æ›´å¤æ‚çš„ä»»åŠ¡" width="150px"></a>
</p>

<p align="center">
<b>ä½¿ GPTs ç»„æˆè½¯ä»¶å…¬å¸ï¼Œåä½œå¤„ç†æ›´å¤æ‚çš„ä»»åŠ¡</b>
</p>

<p align="center">
<a href="docs/README_CN.md"><img src="https://img.shields.io/badge/æ–‡æ¡£-ä¸­æ–‡ç‰ˆ-blue.svg" alt="CN doc"></a>
<a href="README.md"><img src="https://img.shields.io/badge/document-English-blue.svg" alt="EN doc"></a>
<a href="docs/README_JA.md"><img src="https://img.shields.io/badge/ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ-æ—¥æœ¬èª-blue.svg" alt="JA doc"></a>
<a href="https://discord.gg/wCp6Q3fsAk"><img src="https://img.shields.io/badge/Discord-Join-blue?logo=discord&logoColor=white&color=blue" alt="Discord Follow"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a>
<a href="docs/ROADMAP.md"><img src="https://img.shields.io/badge/ROADMAP-è·¯çº¿å›¾-blue" alt="roadmap"></a>
<a href="https://twitter.com/MetaGPT_"><img src="https://img.shields.io/twitter/follow/MetaGPT?style=social" alt="Twitter Follow"></a>
</p>

<p align="center">
   <a href="https://airtable.com/appInfdG0eJ9J4NNL/shrEd9DrwVE3jX6oz"><img src="https://img.shields.io/badge/AgentStore-Waitlist-ffc107?logoColor=white" alt="AgentStore Waitlist"></a>
   <a href="https://vscode.dev/redirect?url=vscode://ms-vscode-remote.remote-containers/cloneInVolume?url=https://github.com/geekan/MetaGPT"><img src="https://img.shields.io/static/v1?label=Dev%20Containers&message=Open&color=blue&logo=visualstudiocode" alt="Open in Dev Containers"></a>
   <a href="https://codespaces.new/geekan/MetaGPT"><img src="https://img.shields.io/badge/Github_Codespace-Open-blue?logo=github" alt="Open in GitHub Codespaces"></a>
   <a href="https://huggingface.co/spaces/deepwisdom/MetaGPT" target="_blank"><img alt="Hugging Face" src="https://img.shields.io/badge/%F0%9F%A4%97%20-Hugging%20Face-blue?color=blue&logoColor=white" /></a>
</p>

1. MetaGPTè¾“å…¥**ä¸€å¥è¯çš„è€æ¿éœ€æ±‚**ï¼Œè¾“å‡º**ç”¨æˆ·æ•…äº‹ / ç«å“åˆ†æ / éœ€æ±‚ / æ•°æ®ç»“æ„ / APIs / æ–‡ä»¶ç­‰**
2. MetaGPTå†…éƒ¨åŒ…æ‹¬**äº§å“ç»ç† / æ¶æ„å¸ˆ / é¡¹ç›®ç»ç† / å·¥ç¨‹å¸ˆ**ï¼Œå®ƒæä¾›äº†ä¸€ä¸ª**è½¯ä»¶å…¬å¸**çš„å…¨è¿‡ç¨‹ä¸ç²¾å¿ƒè°ƒé…çš„SOP
   1. `Code = SOP(Team)` æ˜¯æ ¸å¿ƒå“²å­¦ã€‚æˆ‘ä»¬å°†SOPå…·è±¡åŒ–ï¼Œå¹¶ä¸”ç”¨äºLLMæ„æˆçš„å›¢é˜Ÿ

![ä¸€ä¸ªå®Œå…¨ç”±å¤§è¯­è¨€æ¨¡å‹è§’è‰²æ„æˆçš„è½¯ä»¶å…¬å¸](resources/software_company_cd.jpeg)

<p align="center">è½¯ä»¶å…¬å¸å¤šè§’è‰²ç¤ºæ„å›¾ï¼ˆæ­£åœ¨é€æ­¥å®ç°ï¼‰</p>

## MetaGPT çš„èƒ½åŠ›

https://github.com/geekan/MetaGPT/assets/34952977/34345016-5d13-489d-b9f9-b82ace413419


## ç¤ºä¾‹ï¼ˆå‡ç”± GPT-4 ç”Ÿæˆï¼‰

ä¾‹å¦‚ï¼Œé”®å…¥`python startup.py "å†™ä¸ªç±»ä¼¼ä»Šæ—¥å¤´æ¡çš„æ¨èç³»ç»Ÿ"`å¹¶å›è½¦ï¼Œä½ ä¼šè·å¾—ä¸€ç³»åˆ—è¾“å‡ºï¼Œå…¶ä¸€æ˜¯æ•°æ®ç»“æ„ä¸APIè®¾è®¡

![ä»Šæ—¥å¤´æ¡ Recsys æ•°æ® & API è®¾è®¡](resources/workspace/content_rec_sys/resources/data_api_design.png)

è¿™éœ€è¦å¤§çº¦**0.2ç¾å…ƒ**ï¼ˆGPT-4 APIçš„è´¹ç”¨ï¼‰æ¥ç”Ÿæˆä¸€ä¸ªå¸¦æœ‰åˆ†æå’Œè®¾è®¡çš„ç¤ºä¾‹ï¼Œå¤§çº¦2.0ç¾å…ƒç”¨äºä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®

## å®‰è£…

### ä¼ ç»Ÿå®‰è£…

```pybash
# ç¬¬ 1 æ­¥ï¼šç¡®ä¿æ‚¨çš„ç³»ç»Ÿä¸Šå®‰è£…äº† NPMã€‚å¹¶ä½¿ç”¨npmå®‰è£…mermaid-js
npm --version
sudo npm install -g @mermaid-js/mermaid-cli

# ç¬¬ 2 æ­¥ï¼šç¡®ä¿æ‚¨çš„ç³»ç»Ÿä¸Šå®‰è£…äº† Python 3.9+ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
python --version

# ç¬¬ 3 æ­¥ï¼šå…‹éš†ä»“åº“åˆ°æ‚¨çš„æœ¬åœ°æœºå™¨ï¼Œå¹¶è¿›è¡Œå®‰è£…ã€‚
git clone https://github.com/geekan/metagpt
cd metagpt
pip install -e.
```

**æ³¨æ„ï¼š**

- å¦‚æœå·²ç»å®‰è£…äº†Chromeã€Chromiumæˆ–MS Edgeï¼Œå¯ä»¥é€šè¿‡å°†ç¯å¢ƒå˜é‡`PUPPETEER_SKIP_CHROMIUM_DOWNLOAD`è®¾ç½®ä¸º`true`æ¥è·³è¿‡ä¸‹è½½Chromiumã€‚

- ä¸€äº›äººåœ¨å…¨å±€å®‰è£…æ­¤å·¥å…·æ—¶é‡åˆ°é—®é¢˜ã€‚åœ¨æœ¬åœ°å®‰è£…æ˜¯æ›¿ä»£è§£å†³æ–¹æ¡ˆï¼Œ

    ```pybash
    npm install @mermaid-js/mermaid-cli
    ```

- ä¸è¦å¿˜è®°åœ¨config.ymlä¸­ä¸ºmmdcé…ç½®é…ç½®ï¼Œ

    ```pyyml
    PUPPETEER_CONFIG: "./config/puppeteer-config.json"
    MMDC: "./node_modules/.bin/mmdc"
    ```

- å¦‚æœ`pip install -e.`å¤±è´¥å¹¶æ˜¾ç¤ºé”™è¯¯`[Errno 13] Permission denied: '/usr/local/lib/python3.11/dist-packages/test-easy-install-13129.write-test'`ï¼Œè¯·å°è¯•ä½¿ç”¨`pip install -e. --user`è¿è¡Œã€‚

### Dockerå®‰è£…

```pybash
# æ­¥éª¤1: ä¸‹è½½metagptå®˜æ–¹é•œåƒå¹¶å‡†å¤‡å¥½config.yaml
docker pull metagpt/metagpt:latest
mkdir -p /opt/metagpt/{config,workspace}
docker run --rm metagpt/metagpt:latest cat /app/metagpt/config/config.yaml > /opt/metagpt/config/key.yaml
vim /opt/metagpt/config/key.yaml # ä¿®æ”¹é…ç½®æ–‡ä»¶

# æ­¥éª¤2: ä½¿ç”¨å®¹å™¨è¿è¡Œmetagptæ¼”ç¤º
docker run --rm \
    --privileged \
    -v /opt/metagpt/config/key.yaml:/app/metagpt/config/key.yaml \
    -v /opt/metagpt/workspace:/app/metagpt/workspace \
    metagpt/metagpt:latest \
    python startup.py "Write a cli snake game"

# æ‚¨ä¹Ÿå¯ä»¥å¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶åœ¨å…¶ä¸­æ‰§è¡Œå‘½ä»¤
docker run --name metagpt -d \
    --privileged \
    -v /opt/metagpt/config/key.yaml:/app/metagpt/config/key.yaml \
    -v /opt/metagpt/workspace:/app/metagpt/workspace \
    metagpt/metagpt:latest

docker exec -it metagpt /bin/bash
$ python startup.py "Write a cli snake game"
```

`docker run ...`åšäº†ä»¥ä¸‹äº‹æƒ…:

- ä»¥ç‰¹æƒæ¨¡å¼è¿è¡Œï¼Œæœ‰æƒé™è¿è¡Œæµè§ˆå™¨
- å°†ä¸»æœºæ–‡ä»¶ `/opt/metagpt/config/key.yaml` æ˜ å°„åˆ°å®¹å™¨æ–‡ä»¶ `/app/metagpt/config/key.yaml`
- å°†ä¸»æœºç›®å½• `/opt/metagpt/workspace` æ˜ å°„åˆ°å®¹å™¨ç›®å½• `/app/metagpt/workspace`
- æ‰§è¡Œç¤ºä¾‹å‘½ä»¤ `python startup.py "Write a cli snake game"`

### è‡ªå·±æ„å»ºé•œåƒ

```pybash
# æ‚¨ä¹Ÿå¯ä»¥è‡ªå·±æ„å»ºmetagpté•œåƒ
git clone https://github.com/geekan/MetaGPT.git
cd MetaGPT && docker build -t metagpt:custom .
```

## é…ç½®

- åœ¨ `config/key.yaml / config/config.yaml / env` ä¸­é…ç½®æ‚¨çš„ `OPENAI_API_KEY`
- ä¼˜å…ˆçº§é¡ºåºï¼š`config/key.yaml > config/config.yaml > env`

```pybash
# å¤åˆ¶é…ç½®æ–‡ä»¶å¹¶è¿›è¡Œå¿…è¦çš„ä¿®æ”¹
cp config/config.yaml config/key.yaml
```

| å˜é‡å                              | config/key.yaml                           | env                                             |
| ----------------------------------- | ----------------------------------------- | ----------------------------------------------- |
| OPENAI_API_KEY # ç”¨æ‚¨è‡ªå·±çš„å¯†é’¥æ›¿æ¢ | OPENAI_API_KEY: "sk-..."                  | export OPENAI_API_KEY="sk-..."                  |
| OPENAI_API_BASE # å¯é€‰              | OPENAI_API_BASE: "https://<YOUR_SITE>/v1" | export OPENAI_API_BASE="https://<YOUR_SITE>/v1" |

## ç¤ºä¾‹ï¼šå¯åŠ¨ä¸€ä¸ªåˆ›ä¸šå…¬å¸

```pyshell
python startup.py "å†™ä¸€ä¸ªå‘½ä»¤è¡Œè´ªåƒè›‡"
# å¼€å¯code reviewæ¨¡å¼ä¼šèŠ±è´¹æ›´å¤šçš„é‡‘é’±, ä½†æ˜¯ä¼šæå‡ä»£ç è´¨é‡å’ŒæˆåŠŸç‡
python startup.py "å†™ä¸€ä¸ªå‘½ä»¤è¡Œè´ªåƒè›‡" --code_review True
```

è¿è¡Œè„šæœ¬åï¼Œæ‚¨å¯ä»¥åœ¨ `workspace/` ç›®å½•ä¸­æ‰¾åˆ°æ‚¨çš„æ–°é¡¹ç›®ã€‚
### å¹³å°æˆ–å·¥å…·çš„å€¾å‘æ€§
å¯ä»¥åœ¨é˜è¿°éœ€æ±‚æ—¶è¯´æ˜æƒ³è¦ä½¿ç”¨çš„å¹³å°æˆ–å·¥å…·ã€‚
ä¾‹å¦‚ï¼š
```pyshell
python startup.py "å†™ä¸€ä¸ªåŸºäºpygameçš„å‘½ä»¤è¡Œè´ªåƒè›‡"
```

### ä½¿ç”¨

```py
åç§°
    startup.py - æˆ‘ä»¬æ˜¯ä¸€å®¶AIè½¯ä»¶åˆ›ä¸šå…¬å¸ã€‚é€šè¿‡æŠ•èµ„æˆ‘ä»¬ï¼Œæ‚¨å°†èµ‹èƒ½ä¸€ä¸ªå……æ»¡æ— é™å¯èƒ½çš„æœªæ¥ã€‚

æ¦‚è¦
    startup.py IDEA <flags>

æè¿°
    æˆ‘ä»¬æ˜¯ä¸€å®¶AIè½¯ä»¶åˆ›ä¸šå…¬å¸ã€‚é€šè¿‡æŠ•èµ„æˆ‘ä»¬ï¼Œæ‚¨å°†èµ‹èƒ½ä¸€ä¸ªå……æ»¡æ— é™å¯èƒ½çš„æœªæ¥ã€‚

ä½ç½®å‚æ•°
    IDEA
        ç±»å‹: str
        æ‚¨çš„åˆ›æ–°æƒ³æ³•ï¼Œä¾‹å¦‚"å†™ä¸€ä¸ªå‘½ä»¤è¡Œè´ªåƒè›‡ã€‚"

æ ‡å¿—
    --investment=INVESTMENT
        ç±»å‹: float
        é»˜è®¤å€¼: 3.0
        ä½œä¸ºæŠ•èµ„è€…ï¼Œæ‚¨æœ‰æœºä¼šå‘è¿™å®¶AIå…¬å¸æŠ•å…¥ä¸€å®šçš„ç¾å…ƒé‡‘é¢ã€‚
    --n_round=N_ROUND
        ç±»å‹: int
        é»˜è®¤å€¼: 5

å¤‡æ³¨
    æ‚¨ä¹Ÿå¯ä»¥ç”¨`æ ‡å¿—`çš„è¯­æ³•ï¼Œæ¥å¤„ç†`ä½ç½®å‚æ•°`
```

### ä»£ç å®ç°

```pypython
from metagpt.software_company import SoftwareCompany
from metagpt.roles import ProjectManager, ProductManager, Architect, Engineer

async def startup(idea: str, investment: float = 3.0, n_round: int = 5):
    """è¿è¡Œä¸€ä¸ªåˆ›ä¸šå…¬å¸ã€‚åšä¸€ä¸ªè€æ¿"""
    company = SoftwareCompany()
    company.hire([ProductManager(), Architect(), ProjectManager(), Engineer()])
    company.invest(investment)
    company.start_project(idea)
    await company.run(n_round=n_round)
```

ä½ å¯ä»¥æŸ¥çœ‹`examples`ï¼Œå…¶ä¸­æœ‰å•è§’è‰²ï¼ˆå¸¦çŸ¥è¯†åº“ï¼‰çš„ä½¿ç”¨ä¾‹å­ä¸ä»…LLMçš„ä½¿ç”¨ä¾‹å­ã€‚

## å¿«é€Ÿä½“éªŒ
å¯¹ä¸€äº›ç”¨æˆ·æ¥è¯´ï¼Œå®‰è£…é…ç½®æœ¬åœ°ç¯å¢ƒæ˜¯æœ‰å›°éš¾çš„ï¼Œä¸‹é¢è¿™äº›æ•™ç¨‹èƒ½å¤Ÿè®©ä½ å¿«é€Ÿä½“éªŒåˆ°MetaGPTçš„é­…åŠ›ã€‚  

- [MetaGPTå¿«é€Ÿä½“éªŒ](https://deepwisdom.feishu.cn/wiki/Q8ycw6J9tiNXdHk66MRcIN8Pnlg)

å¯ç›´æ¥åœ¨Huggingface Spaceä½“éªŒ

- https://huggingface.co/spaces/deepwisdom/MetaGPT

## è”ç³»ä¿¡æ¯

å¦‚æœæ‚¨å¯¹è¿™ä¸ªé¡¹ç›®æœ‰ä»»ä½•é—®é¢˜æˆ–åé¦ˆï¼Œæ¬¢è¿è”ç³»æˆ‘ä»¬ã€‚æˆ‘ä»¬éå¸¸æ¬¢è¿æ‚¨çš„å»ºè®®ï¼

- **é‚®ç®±ï¼š** alexanderwu@fuzhi.ai
- **GitHub é—®é¢˜ï¼š** å¯¹äºæ›´æŠ€æœ¯æ€§çš„é—®é¢˜ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨æˆ‘ä»¬çš„ [GitHub ä»“åº“](https://github.com/geekan/metagpt/issues) ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„é—®é¢˜ã€‚

æˆ‘ä»¬ä¼šåœ¨2-3ä¸ªå·¥ä½œæ—¥å†…å›å¤æ‰€æœ‰é—®é¢˜ã€‚

## æ¼”ç¤º

https://github.com/geekan/MetaGPT/assets/2707039/5e8c1062-8c35-440f-bb20-2b0320f8d27d

## åŠ å…¥æˆ‘ä»¬

ğŸ“¢ åŠ å…¥æˆ‘ä»¬çš„Discordé¢‘é“ï¼
https://discord.gg/ZRHeExS6xv

æœŸå¾…åœ¨é‚£é‡Œä¸æ‚¨ç›¸è§ï¼ğŸ‰


# MetaGPT: ãƒãƒ«ãƒã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

<p align="center">
<a href=""><img src="resources/MetaGPT-new-log.png" alt="MetaGPT ãƒ­ã‚´: GPT ãŒã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ä¼šç¤¾ã§åƒã‘ã‚‹ã‚ˆã†ã«ã—ã€å”åŠ›ã—ã¦ã‚ˆã‚Šè¤‡é›‘ãªä»•äº‹ã«å–ã‚Šçµ„ã‚€ã€‚" width="150px"></a>
</p>

<p align="center">
<b>GPT ã«ã•ã¾ã–ã¾ãªå½¹å‰²ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã§ã€è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã®ãŸã‚ã®å…±åŒã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’å½¢æˆã—ã¾ã™ã€‚</b>
</p>

<p align="center">
<a href="docs/README_CN.md"><img src="https://img.shields.io/badge/æ–‡æ¡£-ä¸­æ–‡ç‰ˆ-blue.svg" alt="CN doc"></a>
<a href="README.md"><img src="https://img.shields.io/badge/document-English-blue.svg" alt="EN doc"></a>
<a href="docs/README_JA.md"><img src="https://img.shields.io/badge/ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ-æ—¥æœ¬èª-blue.svg" alt="JA doc"></a>
<a href="https://discord.gg/wCp6Q3fsAk"><img src="https://img.shields.io/badge/Discord-Join-blue?logo=discord&logoColor=white&color=blue" alt="Discord Follow"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a>
<a href="docs/ROADMAP.md"><img src="https://img.shields.io/badge/ROADMAP-è·¯çº¿å›¾-blue" alt="roadmap"></a>
<a href="https://twitter.com/MetaGPT_"><img src="https://img.shields.io/twitter/follow/MetaGPT?style=social" alt="Twitter Follow"></a>
</p>

<p align="center">
   <a href="https://airtable.com/appInfdG0eJ9J4NNL/shrEd9DrwVE3jX6oz"><img src="https://img.shields.io/badge/AgentStore-Waitlist-ffc107?logoColor=white" alt="AgentStore Waitlist"></a>
   <a href="https://vscode.dev/redirect?url=vscode://ms-vscode-remote.remote-containers/cloneInVolume?url=https://github.com/geekan/MetaGPT"><img src="https://img.shields.io/static/v1?label=Dev%20Containers&message=Open&color=blue&logo=visualstudiocode" alt="Open in Dev Containers"></a>
   <a href="https://codespaces.new/geekan/MetaGPT"><img src="https://img.shields.io/badge/Github_Codespace-Open-blue?logo=github" alt="Open in GitHub Codespaces"></a>
   <a href="https://huggingface.co/spaces/deepwisdom/MetaGPT" target="_blank"><img alt="Hugging Face" src="https://img.shields.io/badge/%F0%9F%A4%97%20-Hugging%20Face-blue?color=blue&logoColor=white" /></a>
</p>

1. MetaGPT ã¯ã€**1 è¡Œã®è¦ä»¶** ã‚’å…¥åŠ›ã¨ã—ã€**ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ / ç«¶åˆåˆ†æ / è¦ä»¶ / ãƒ‡ãƒ¼ã‚¿æ§‹é€  / API / æ–‡æ›¸ãªã©** ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚
2. MetaGPT ã«ã¯ã€**ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢** ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚MetaGPT ã¯ã€**ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ä¼šç¤¾ã®ãƒ—ãƒ­ã‚»ã‚¹å…¨ä½“ã‚’ã€æ…é‡ã«èª¿æ•´ã•ã‚ŒãŸ SOP ã¨ã¨ã‚‚ã«æä¾›ã—ã¾ã™ã€‚**
   1. `Code = SOP(Team)` ãŒåŸºæœ¬ç†å¿µã§ã™ã€‚ç§ãŸã¡ã¯ SOP ã‚’å…·ä½“åŒ–ã—ã€LLM ã§æ§‹æˆã•ã‚Œã‚‹ãƒãƒ¼ãƒ ã«é©ç”¨ã—ã¾ã™ã€‚

![ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ä¼šç¤¾ã¯ LLM ãƒ™ãƒ¼ã‚¹ã®å½¹å‰²ã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹](resources/software_company_cd.jpeg)

<p align="center">ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ä¼šç¤¾ã®ãƒãƒ«ãƒãƒ­ãƒ¼ãƒ«å›³å¼ï¼ˆé †æ¬¡å°å…¥ï¼‰</p>

## MetaGPT ã®èƒ½åŠ›


https://github.com/geekan/MetaGPT/assets/34952977/34345016-5d13-489d-b9f9-b82ace413419



## ä¾‹ï¼ˆGPT-4 ã§å®Œå…¨ç”Ÿæˆï¼‰

ä¾‹ãˆã°ã€`python startup.py "Toutiao ã®ã‚ˆã†ãª RecSys ã‚’ãƒ‡ã‚¶ã‚¤ãƒ³ã™ã‚‹"`ã¨å…¥åŠ›ã™ã‚‹ã¨ã€å¤šãã®å‡ºåŠ›ãŒå¾—ã‚‰ã‚Œã¾ã™

![Jinri Toutiao Recsys ãƒ‡ãƒ¼ã‚¿ã¨ API ãƒ‡ã‚¶ã‚¤ãƒ³](resources/workspace/content_rec_sys/resources/data_api_design.png)

è§£æã¨è¨­è¨ˆã‚’å«ã‚€ 1 ã¤ã®ä¾‹ã‚’ç”Ÿæˆã™ã‚‹ã®ã«ç´„ **$0.2**ï¼ˆGPT-4 ã® API ä½¿ç”¨æ–™ï¼‰ã€å®Œå…¨ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ç´„ **$2.0** ã‹ã‹ã‚Šã¾ã™ã€‚




## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ“ãƒ‡ã‚ªã‚¬ã‚¤ãƒ‰

- [Matthew Berman: How To Install MetaGPT - Build A Startup With One Prompt!!](https://youtu.be/uT75J_KG_aY)

### ä¼çµ±çš„ãªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```pybash
# ã‚¹ãƒ†ãƒƒãƒ— 1: NPM ãŒã‚·ã‚¹ãƒ†ãƒ ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚æ¬¡ã« mermaid-js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚(ãŠä½¿ã„ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã« npm ãŒãªã„å ´åˆã¯ã€Node.js å…¬å¼ã‚µã‚¤ãƒˆã§ Node.js https://nodejs.org/ ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚ï¼‰
npm --version
sudo npm install -g @mermaid-js/mermaid-cli

# ã‚¹ãƒ†ãƒƒãƒ— 2: Python 3.9+ ãŒã‚·ã‚¹ãƒ†ãƒ ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã‚’ç¢ºèªã™ã‚‹ã«ã¯:
python --version

# ã‚¹ãƒ†ãƒƒãƒ— 3: ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³ã«ã‚¯ãƒ­ãƒ¼ãƒ³ã—ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚
git clone https://github.com/geekan/metagpt
cd metagpt
pip install -e.
```

**æ³¨:**

- ã™ã§ã« Chromeã€Chromiumã€MS Edge ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ã€ç’°å¢ƒå¤‰æ•° `PUPPETEER_SKIP_CHROMIUM_DOWNLOAD` ã‚’ `true` ã«è¨­å®šã™ã‚‹ã“ã¨ã§ã€
Chromium ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- ã“ã®ãƒ„ãƒ¼ãƒ«ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹[å•é¡Œã‚’æŠ±ãˆã¦ã„ã‚‹](https://github.com/mermaidjs/mermaid.cli/issues/15)äººã‚‚ã„ã¾ã™ã€‚ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã®ãŒä»£æ›¿ã®è§£æ±ºç­–ã§ã™ã€

  ```pybash
  npm install @mermaid-js/mermaid-cli
  ```

- config.yml ã« mmdc ã®ã‚³ãƒ³ãƒ•ã‚£ã‚°ã‚’è¨˜è¿°ã™ã‚‹ã®ã‚’å¿˜ã‚Œãªã„ã“ã¨

  ```pyyml
  PUPPETEER_CONFIG: "./config/puppeteer-config.json"
  MMDC: "./node_modules/.bin/mmdc"
  ```

- ã‚‚ã— `pip install -e.` ãŒã‚¨ãƒ©ãƒ¼ `[Errno 13] Permission denied: '/usr/local/lib/python3.11/dist-packages/test-easy-install-13129.write-test'` ã§å¤±æ•—ã—ãŸã‚‰ã€ä»£ã‚ã‚Šã« `pip install -e. --user` ã‚’å®Ÿè¡Œã—ã¦ã¿ã¦ãã ã•ã„

- Mermaid charts ã‚’ SVGã€PNGã€PDF å½¢å¼ã«å¤‰æ›ã—ã¾ã™ã€‚Node.js ç‰ˆã® Mermaid-CLI ã«åŠ ãˆã¦ã€Python ç‰ˆã® Playwrightã€pyppeteerã€ã¾ãŸã¯ mermaid.ink ã‚’ã“ã®ã‚¿ã‚¹ã‚¯ã«ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

  - Playwright
    - **Playwright ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

    ```pybash
    pip install playwright
    ```

    - **å¿…è¦ãªãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

    PDFå¤‰æ›ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã«ã¯ã€Chrominumã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ã€‚

    ```pybash
    playwright install --with-deps chromium
    ```

    - **modify `config.yaml`**

    config.yaml ã‹ã‚‰ MERMAID_ENGINE ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’å¤–ã—ã€`playwright` ã«å¤‰æ›´ã™ã‚‹

    ```pyyaml
    MERMAID_ENGINE: playwright
    ```

  - pyppeteer
    - **pyppeteer ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**

    ```pybash
    pip install pyppeteer
    ```

    - **è‡ªåˆ†ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ä½¿ç”¨**

    pyppeteer ã‚’ä½¿ãˆã°ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€ä»¥ä¸‹ã®ç’°å¢ƒã‚’è¨­å®šã—ã¦ãã ã•ã„

    ```pybash
    export PUPPETEER_EXECUTABLE_PATH = /path/to/your/chromium or edge or chrome
    ```

    ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã‚ãªã„ã§ãã ã•ã„ã€ã“ã‚Œã¯å¤ã™ãã¾ã™

    ```pybash
    pyppeteer-install
    ```

    - **`config.yaml` ã‚’ä¿®æ­£**

    config.yaml ã‹ã‚‰ MERMAID_ENGINE ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’å¤–ã—ã€`pyppeteer` ã«å¤‰æ›´ã™ã‚‹

    ```pyyaml
    MERMAID_ENGINE: pyppeteer
    ```

  - mermaid.ink
    - **`config.yaml` ã‚’ä¿®æ­£**

    config.yaml ã‹ã‚‰ MERMAID_ENGINE ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’å¤–ã—ã€`ink` ã«å¤‰æ›´ã™ã‚‹

    ```pyyaml
    MERMAID_ENGINE: ink
    ```

    æ³¨: ã“ã®æ–¹æ³•ã¯ pdf ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚

### Docker ã«ã‚ˆã‚‹ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```pybash
# ã‚¹ãƒ†ãƒƒãƒ— 1: metagpt å…¬å¼ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã€config.yaml ã‚’æº–å‚™ã™ã‚‹
docker pull metagpt/metagpt:latest
mkdir -p /opt/metagpt/{config,workspace}
docker run --rm metagpt/metagpt:latest cat /app/metagpt/config/config.yaml > /opt/metagpt/config/key.yaml
vim /opt/metagpt/config/key.yaml # è¨­å®šã‚’å¤‰æ›´ã™ã‚‹

# ã‚¹ãƒ†ãƒƒãƒ— 2: ã‚³ãƒ³ãƒ†ãƒŠã§ metagpt ãƒ‡ãƒ¢ã‚’å®Ÿè¡Œã™ã‚‹
docker run --rm \
    --privileged \
    -v /opt/metagpt/config/key.yaml:/app/metagpt/config/key.yaml \
    -v /opt/metagpt/workspace:/app/metagpt/workspace \
    metagpt/metagpt:latest \
    python startup.py "Write a cli snake game"

# ã‚³ãƒ³ãƒ†ãƒŠã‚’èµ·å‹•ã—ã€ãã®ä¸­ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™
docker run --name metagpt -d \
    --privileged \
    -v /opt/metagpt/config/key.yaml:/app/metagpt/config/key.yaml \
    -v /opt/metagpt/workspace:/app/metagpt/workspace \
    metagpt/metagpt:latest

docker exec -it metagpt /bin/bash
$ python startup.py "Write a cli snake game"
```

ã‚³ãƒãƒ³ãƒ‰ `docker run ...` ã¯ä»¥ä¸‹ã®ã“ã¨ã‚’è¡Œã„ã¾ã™:

- ç‰¹æ¨©ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œã—ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®å®Ÿè¡Œæ¨©é™ã‚’å¾—ã‚‹
- ãƒ›ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« `/opt/metagpt/config/key.yaml` ã‚’ã‚³ãƒ³ãƒ†ãƒŠ `/app/metagpt/config/key.yaml` ã«ãƒãƒƒãƒ—ã—ã¾ã™
- ãƒ›ã‚¹ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª `/opt/metagpt/workspace` ã‚’ã‚³ãƒ³ãƒ†ãƒŠãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª `/app/metagpt/workspace` ã«ãƒãƒƒãƒ—ã™ã‚‹s
- ãƒ‡ãƒ¢ã‚³ãƒãƒ³ãƒ‰ `python startup.py "Write a cli snake game"` ã‚’å®Ÿè¡Œã™ã‚‹

### è‡ªåˆ†ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ãƒ“ãƒ«ãƒ‰ã™ã‚‹

```pybash
# ã¾ãŸã€è‡ªåˆ†ã§ metagpt ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚
git clone https://github.com/geekan/MetaGPT.git
cd MetaGPT && docker build -t metagpt:custom .
```

## è¨­å®š

- `OPENAI_API_KEY` ã‚’ `config/key.yaml / config/config.yaml / env` ã®ã„ãšã‚Œã‹ã§è¨­å®šã—ã¾ã™ã€‚
- å„ªå…ˆé †ä½ã¯: `config/key.yaml > config/config.yaml > env` ã®é †ã§ã™ã€‚

```pybash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã€å¿…è¦ãªä¿®æ­£ã‚’åŠ ãˆã‚‹ã€‚
cp config/config.yaml config/key.yaml
```

| å¤‰æ•°å                                  | config/key.yaml                           | env                                             |
| --------------------------------------- | ----------------------------------------- | ----------------------------------------------- |
| OPENAI_API_KEY # è‡ªåˆ†ã®ã‚­ãƒ¼ã«ç½®ãæ›ãˆã‚‹ | OPENAI_API_KEY: "sk-..."                  | export OPENAI_API_KEY="sk-..."                  |
| OPENAI_API_BASE # ã‚ªãƒ—ã‚·ãƒ§ãƒ³            | OPENAI_API_BASE: "https://<YOUR_SITE>/v1" | export OPENAI_API_BASE="https://<YOUR_SITE>/v1" |

## ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«: ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã®é–‹å§‹

```pyshell
# ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œ
python startup.py "Write a cli snake game"
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿæ–½ã«ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’é›‡ã‚ãªã„ã“ã¨
python startup.py "Write a cli snake game" --implement False
# ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’é›‡ã„ã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡Œã†
python startup.py "Write a cli snake game" --code_review True
```

ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€`workspace/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã™ã€‚

### ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¾ãŸã¯ãƒ„ãƒ¼ãƒ«ã®è¨­å®š

è¦ä»¶ã‚’è¿°ã¹ã‚‹ã¨ãã«ã€ã©ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¾ãŸã¯ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã‚’æŒ‡å®šã§ãã¾ã™ã€‚

```pyshell
python startup.py "pygame ã‚’ãƒ™ãƒ¼ã‚¹ã¨ã—ãŸ cli ãƒ˜ãƒ“ã‚²ãƒ¼ãƒ ã‚’æ›¸ã"
```

### ä½¿ç”¨æ–¹æ³•

```py
ä¼šç¤¾å
    startup.py - ç§ãŸã¡ã¯ AI ã§æ§‹æˆã•ã‚ŒãŸã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ»ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã§ã™ã€‚ç§ãŸã¡ã«æŠ•è³‡ã™ã‚‹ã“ã¨ã¯ã€ç„¡é™ã®å¯èƒ½æ€§ã«æº€ã¡ãŸæœªæ¥ã«åŠ›ã‚’ä¸ãˆã‚‹ã“ã¨ã§ã™ã€‚

ã‚·ãƒãƒ—ã‚·ã‚¹
    startup.py IDEA <flags>

èª¬æ˜
    ç§ãŸã¡ã¯ AI ã§æ§‹æˆã•ã‚ŒãŸã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ»ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã§ã™ã€‚ç§ãŸã¡ã«æŠ•è³‡ã™ã‚‹ã“ã¨ã¯ã€ç„¡é™ã®å¯èƒ½æ€§ã«æº€ã¡ãŸæœªæ¥ã«åŠ›ã‚’ä¸ãˆã‚‹ã“ã¨ã§ã™ã€‚

ä½ç½®å¼•æ•°
    IDEA
        å‹: str
        ã‚ãªãŸã®é©æ–°çš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã€ä¾‹ãˆã°"ã‚¹ãƒãƒ¼ã‚¯ã‚²ãƒ¼ãƒ ã‚’ä½œã‚‹ã€‚"ãªã©

ãƒ•ãƒ©ã‚°
    --investment=INVESTMENT
        å‹: float
        ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 3.0
        æŠ•è³‡å®¶ã¨ã—ã¦ã€ã‚ãªãŸã¯ã“ã® AI ä¼æ¥­ã«ä¸€å®šã®é‡‘é¡ã‚’æ‹ å‡ºã™ã‚‹æ©Ÿä¼šãŒã‚ã‚‹ã€‚
    --n_round=N_ROUND
        å‹: int
        ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 5

æ³¨æ„äº‹é …
    ä½ç½®å¼•æ•°ã«ãƒ•ãƒ©ã‚°æ§‹æ–‡ã‚’ä½¿ã†ã“ã¨ã‚‚ã§ãã¾ã™
```

### ã‚³ãƒ¼ãƒ‰ã‚¦ã‚©ãƒ¼ã‚¯ã‚¹ãƒ«ãƒ¼

```pypython
from metagpt.software_company import SoftwareCompany
from metagpt.roles import ProjectManager, ProductManager, Architect, Engineer

async def startup(idea: str, investment: float = 3.0, n_round: int = 5):
    """ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã‚’å®Ÿè¡Œã™ã‚‹ã€‚ãƒœã‚¹ã«ãªã‚‹ã€‚"""
    company = SoftwareCompany()
    company.hire([ProductManager(), Architect(), ProjectManager(), Engineer()])
    company.invest(investment)
    company.start_project(idea)
    await company.run(n_round=n_round)
```

`examples` ã§ã‚·ãƒ³ã‚°ãƒ«ãƒ»ãƒ­ãƒ¼ãƒ«ï¼ˆãƒŠãƒ¬ãƒƒã‚¸ãƒ»ãƒ™ãƒ¼ã‚¹ä»˜ãï¼‰ã¨ LLM ã®ã¿ã®ä¾‹ã‚’è©³ã—ãè¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚„è¨­å®šã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã£ã¦ã¯é›£ã—ã„ã‚‚ã®ã§ã™ã€‚ä»¥ä¸‹ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ MetaGPT ã®é­…åŠ›ã‚’ã™ãã«ä½“é¨“ã§ãã¾ã™ã€‚

- [MetaGPT ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ](https://deepwisdom.feishu.cn/wiki/CyY9wdJc4iNqArku3Lncl4v8n2b)

Hugging Face Space ã§è©¦ã™
- https://huggingface.co/spaces/deepwisdom/MetaGPT

## å¼•ç”¨

ç¾æ™‚ç‚¹ã§ã¯ã€[Arxiv è«–æ–‡](https://arxiv.org/abs/2308.00352)ã‚’å¼•ç”¨ã—ã¦ãã ã•ã„:

```pybibtex
@misc{hong2023metagpt,
      title={MetaGPT: Meta Programming for Multi-Agent Collaborative Framework},
      author={Sirui Hong and Xiawu Zheng and Jonathan Chen and Yuheng Cheng and Jinlin Wang and Ceyao Zhang and Zili Wang and Steven Ka Shing Yau and Zijuan Lin and Liyang Zhou and Chenyu Ran and Lingfeng Xiao and Chenglin Wu},
      year={2023},
      eprint={2308.00352},
      archivePrefix={arXiv},
      primaryClass={cs.AI}
}
```

## ãŠå•ã„åˆã‚ã›å…ˆ

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã™ã‚‹ã”è³ªå•ã‚„ã”æ„è¦‹ãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€ãŠæ°—è»½ã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚çš†æ§˜ã®ã”æ„è¦‹ã‚’ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ï¼

- **Email:** alexanderwu@fuzhi.ai
- **GitHub Issues:** æŠ€è¡“çš„ãªãŠå•ã„åˆã‚ã›ã«ã¤ã„ã¦ã¯ã€[GitHub ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/geekan/metagpt/issues) ã«æ–°ã—ã„ issue ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

ã”è³ªå•ã«ã¯ 2-3 å–¶æ¥­æ—¥ä»¥å†…ã«å›ç­”ã„ãŸã—ã¾ã™ã€‚

## ãƒ‡ãƒ¢

https://github.com/geekan/MetaGPT/assets/2707039/5e8c1062-8c35-440f-bb20-2b0320f8d27d

## å‚åŠ ã™ã‚‹

ğŸ“¢ Discord ãƒãƒ£ãƒ³ãƒãƒ«ã«å‚åŠ ã—ã¦ãã ã•ã„ï¼
https://discord.gg/ZRHeExS6xv

ãŠä¼šã„ã§ãã‚‹ã“ã¨ã‚’æ¥½ã—ã¿ã«ã—ã¦ã„ã¾ã™ï¼ ğŸ‰



## Roadmap

### Long-term Objective

Enable MetaGPT to self-evolve, accomplishing self-training, fine-tuning, optimization, utilization, and updates.

### Short-term Objective

1. Become the multi-agent framework with the highest ROI.
2. Support fully automatic implementation of medium-sized projects (around 2000 lines of code).
3. Implement most identified tasks, reaching version 0.5.

### Tasks

To reach version v0.5, approximately 70% of the following tasks need to be completed.

1. Usability
   1. Release v0.01 pip package to try to solve issues like npm installation (though not necessarily successfully)
   2. Support for overall save and recovery of software companies
   3. Support human confirmation and modification during the process
   4. Support process caching: Consider carefully whether to add server caching mechanism
   5. Resolve occasional failure to follow instruction under current prompts, causing code parsing errors, through stricter system prompts
   6. Write documentation, describing the current features and usage at all levels
   7. ~~Support Docker~~
2. Features
   1. Support a more standard and stable parser (need to analyze the format that the current LLM is better at)
   2. ~~Establish a separate output queue, differentiated from the message queue~~
   3. Attempt to atomize all role work, but this may significantly increase token overhead
   4. Complete the design and implementation of module breakdown
   5. Support various modes of memory: clearly distinguish between long-term and short-term memory
   6. Perfect the test role, and carry out necessary interactions with humans
   7. Provide full mode instead of the current fast mode, allowing natural communication between roles
   8. Implement SkillManager and the process of incremental Skill learning
   9. Automatically get RPM and configure it by calling the corresponding openai page, so that each key does not need to be manually configured
3. Strategies
   1. Support ReAct strategy
   2. Support CoT strategy
   3. Support ToT strategy
   4. Support Reflection strategy
4. Actions
   1. Implementation: Search
   2. Implementation: Knowledge search, supporting 10+ data formats
   3. Implementation: Data EDA
   4. Implementation: Review
   5. Implementation: Add Document
   6. Implementation: Delete Document
   7. Implementation: Self-training
   8. Implementation: DebugError
   9. Implementation: Generate reliable unit tests based on YAPI
   10. Implementation: Self-evaluation
   11. Implementation: AI Invocation
   12. Implementation: Learning and using third-party standard libraries
   13. Implementation: Data collection
   14. Implementation: AI training
   15. Implementation: Run code
   16. Implementation: Web access
5. Plugins: Compatibility with plugin system
6. Tools
   1. ~~Support SERPER api~~
   2. ~~Support Selenium apis~~
   3. ~~Support Playwright apis~~
7. Roles
   1. Perfect the action pool/skill pool for each role
   2. Red Book blogger
   3. E-commerce seller
   4. Data analyst
   5. News observer
   6. Institutional researcher
8. Evaluation
   1. Support an evaluation on a game dataset
   2. Reproduce papers, implement full skill acquisition for a single game role, achieving SOTA results
   3. Support an evaluation on a math dataset
   4. Reproduce papers, achieving SOTA results for current mathematical problem solving process
9. LLM
   1. Support Claude underlying API
   2. ~~Support Azure asynchronous API~~
   3. Support streaming version of all APIs
   4. ~~Make gpt-3.5-turbo available (HARD)~~
10. Other
    1. Clean up existing unused code
    2. Unify all code styles and establish contribution standards
    3. Multi-language support
    4. Multi-programming-language support


# `examples/agent_creator.py`

è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªPythonè„šæœ¬ï¼Œå®ƒçš„ä½œç”¨æ˜¯å®šä¹‰äº†ä¸€ä¸ªåä¸º"AgentCreator"çš„è§’è‰²ï¼Œè¯¥è§’è‰²å…·æœ‰åœ¨ä¸€ä¸ªæŒ‡å®šå·¥ä½œç©ºé—´ä¸­åˆ›å»ºè‡ªå®šä¹‰ä»£ç†çš„èƒ½åŠ›ã€‚é€šè¿‡å¯¼å…¥ä¸€äº›å¿…è¦çš„æ¨¡å—å’Œå‡½æ•°ï¼Œè¯¥è„šæœ¬ä½¿ç”¨å·²å®šä¹‰çš„"Action"å’Œ"Role"ç±»ï¼Œä»"metagpt.schema"ä¸­è¯»å–äº†ä¸€ä¸ªåä¸º"MULTI_ACTION_AGENT_CODE_EXAMPLE"çš„æ¨¡æ¿æ–‡ä»¶ï¼Œå¹¶å°†å…¶å†…å®¹å­˜å‚¨åœ¨å˜é‡ä¸­ã€‚æ¥ä¸‹æ¥ï¼Œè¯¥è„šæœ¬ä½¿ç”¨"with"è¯­å¥æ‰“å¼€äº†ä¸€ä¸ªåä¸º"examples/build_customized_agent.py"çš„æ–‡ä»¶ï¼Œè¯»å–å…¶ä¸­çš„å†…å®¹å¹¶å°†å…¶å­˜å‚¨åœ¨å¦ä¸€ä¸ªåä¸º"MULTI_ACTION_AGENT_CODE_EXAMPLE"çš„å˜é‡ä¸­ã€‚


```py
'''
Filename: MetaGPT/examples/agent_creator.py
Created Date: Tuesday, September 12th 2023, 3:28:37 pm
Author: garylin2099
'''
import re

from metagpt.const import PROJECT_ROOT, WORKSPACE_ROOT
from metagpt.actions import Action
from metagpt.roles import Role
from metagpt.schema import Message
from metagpt.logs import logger

with open(PROJECT_ROOT / "examples/build_customized_agent.py", "r") as f:
    # use official example script to guide AgentCreator
    MULTI_ACTION_AGENT_CODE_EXAMPLE = f.read()

```

è¿™æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ªåä¸º `CreateAgent` çš„ç±»ï¼Œå®ƒå®ç°äº† `Action` æ¥å£ã€‚è¿™ä¸ªç±»åŒ…æ‹¬ä¸€ä¸ªåä¸º `run` çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•° `example` å’Œ `instruction`ï¼Œè¿™ä¸¤ä¸ªå‚æ•°ç”¨äºæè¿°è¦æ‰§è¡Œçš„åŠ¨ä½œã€‚

`run` æ–¹æ³•é¦–å…ˆä½¿ç”¨ `PROMPT_TEMPLATE` æ¥ç”Ÿæˆä¸€ä¸ªç”¨äºè°ƒç”¨ `_aask` æ–¹æ³•çš„æ¨¡æ¿ï¼Œå…¶ä¸­ `example` å’Œ `instruction` å‚æ•°ç”¨äºæ›¿æ¢æ¨¡æ¿ä¸­çš„å˜é‡ã€‚ç„¶åï¼Œå®ƒä½¿ç”¨ `format` æ–¹æ³•å°†æ¨¡æ¿ä¸­çš„å‚æ•°æ›¿æ¢ä¸ºå®é™…çš„å‚æ•°ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°ä¸€ä¸ª `rsp` å˜é‡ä¸­ã€‚

æ¥ç€ï¼Œå®ƒä½¿ç”¨ `re.DOTALL` æ¨¡å¼ä» `rsp` ä¸­æå–å‡ºåŒ¹é… `pattern` æ¨¡å¼çš„è¡Œï¼Œå¹¶å°†åŒ¹é…åˆ°çš„å†…å®¹ï¼ˆå¦‚æœæ‰¾åˆ°äº†ï¼‰å­˜å‚¨åˆ° `code_text` å˜é‡ä¸­ã€‚æœ€åï¼Œå®ƒä½¿ç”¨ `f.write` æ–¹æ³•å°† `code_text` å†™å…¥ä¸€ä¸ªåä¸º `agent_created_agent.py` çš„æ–‡ä»¶ä¸­ï¼Œå¹¶è¿”å›è¯¥æ–‡ä»¶çš„å†…å®¹ã€‚

ç”±äº `run` æ–¹æ³•ä¸­ä½¿ç”¨äº† `asyncio` åº“ï¼Œå› æ­¤å®ƒè¿˜å®ç°äº† `run` æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåœ¨åˆé€‚çš„æ—¶æœºä¼šå¼‚æ­¥åœ°æ‰§è¡Œï¼Œå¹¶åœ¨å¼‚æ­¥æ‰§è¡ŒæˆåŠŸåè¿”å›ç»“æœã€‚


```py
class CreateAgent(Action):

    PROMPT_TEMPLATE = """
    ### BACKGROUND
    You are using an agent framework called metagpt to write agents capable of different actions,
    the usage of metagpt can be illustrated by the following example:
    ### EXAMPLE STARTS AT THIS LINE
    {example}
    ### EXAMPLE ENDS AT THIS LINE
    ### TASK
    Now you should create an agent with appropriate actions based on the instruction, consider carefully about
    the PROMPT_TEMPLATE of all actions and when to call self._aask()
    ### INSTRUCTION
    {instruction}
    ### YOUR CODE
    Return ```python your_code_here ```py with NO other texts, your code:
    """

    async def run(self, example: str, instruction: str):

        prompt = self.PROMPT_TEMPLATE.format(example=example, instruction=instruction)
        # logger.info(prompt)

        rsp = await self._aask(prompt)

        code_text = CreateAgent.parse_code(rsp)

        return code_text

    @staticmethod
    def parse_code(rsp):
        pattern = r'```python(.*)```py'
        match = re.search(pattern, rsp, re.DOTALL)
        code_text = match.group(1) if match else ""
        with open(WORKSPACE_ROOT / "agent_created_agent.py", "w") as f:
            f.write(code_text)
        return code_text

```

è¿™æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ªåä¸º AgentCreator çš„ç±»ï¼Œç»§æ‰¿è‡ª Role ç±»ã€‚è¿™ä¸ªç±»æ¥å—ä¸€ä¸ª name å‚æ•°ã€ä¸€ä¸ª profile å‚æ•°å’Œä¸€ä¸ª agent_template å‚æ•°ï¼Œè¿™äº›å‚æ•°éƒ½åŒ…å«å…³é”®å­— argumentsã€‚

åœ¨ __init__ æ–¹æ³•ä¸­ï¼Œé¦–å…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œç„¶åè®¾ç½®è‡ªå·±çš„åˆå§‹å€¼ã€‚æ¥ç€ï¼Œè°ƒç”¨è‡ªå·±çš„æ–¹æ³• _init_actionsï¼Œè¿™ä¸ªæ–¹æ³•ä¼šåœ¨åˆ›å»ºå®ä¾‹æ—¶è‡ªåŠ¨æ‰§è¡Œï¼Œç¡®ä¿æ‰€æœ‰æ–¹æ³•éƒ½å·²ç»è¢«åˆå§‹åŒ–ã€‚æœ€åï¼Œå°† agent_template å‚æ•°ä¼ é€’ç»™çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚

æ¥ç€ï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º _act çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œä¼šç­‰å¾…è¢«è°ƒç”¨æ—¶æ‰§è¡Œã€‚åœ¨ _act æ–¹æ³•ä¸­ï¼Œè·å–è¢«è®¾ç½®çš„è§’è‰²çš„ todo å±æ€§ï¼Œç„¶åè·å–è¯¥è§’è‰²çš„ memory ä¸­å­˜å‚¨çš„æœ€åä¸€ä¸ªå†…å®¹ï¼Œä¹Ÿå°±æ˜¯æ¶ˆæ¯å†…å®¹ã€‚

æ¥ç€ï¼Œä½¿ç”¨è¿™ä¸ªè§’è‰²çš„ memory ä¸­çš„å†…å®¹ï¼Œè°ƒç”¨ CreateAgent ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œä¼ å…¥ example å’Œ instruction å‚æ•°ï¼Œæ‰§è¡Œ agent_template æŒ‡å®šçš„æŒ‡ä»¤ï¼Œå¹¶è·å–æ‰§è¡Œç»“æœã€‚ç„¶åï¼Œåˆ›å»ºä¸€ä¸ª Message å®ä¾‹ï¼ŒåŒ…å«è¯¥è§’è‰²çš„ profileã€todo å’Œ instructionï¼Œä»¥åŠç”Ÿæˆçš„æ¶ˆæ¯å†…å®¹ã€‚æœ€åï¼Œå°†ç”Ÿæˆçš„ Message å‘é€å›è§’è‰²ã€‚


```py
class AgentCreator(Role):
    def __init__(
        self,
        name: str = "Matrix",
        profile: str = "AgentCreator",
        agent_template: str = MULTI_ACTION_AGENT_CODE_EXAMPLE,
        **kwargs,
    ):
        super().__init__(name, profile, **kwargs)
        self._init_actions([CreateAgent])
        self.agent_template = agent_template

    async def _act(self) -> Message:
        logger.info(f"{self._setting}: ready to {self._rc.todo}")
        todo = self._rc.todo
        msg = self._rc.memory.get()[-1]

        instruction = msg.content
        code_text = await CreateAgent().run(example=self.agent_template, instruction=instruction)
        msg = Message(content=code_text, role=self.profile, cause_by=todo)

        return msg

```

è¿™æ®µä»£ç ä½¿ç”¨äº†Pythonçš„asyncioåº“æ¥å®ç°å¼‚æ­¥ç¼–ç¨‹ã€‚åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸º`main`çš„å‡½æ•°ï¼Œå®ƒä½¿ç”¨äº†Python 3.7ä¸­å¼•å…¥çš„å¤šä»»åŠ¡ä»£ç†ç­–ç•¥ï¼ˆMULTI_ACTION_AGENT_CODE_EXAMPLEï¼‰ã€‚

å…·ä½“æ¥è¯´ï¼Œè¿™æ®µä»£ç çš„ä½œç”¨æ˜¯åˆ›å»ºä¸€ä¸ªåä¸º`SimpleTester`çš„ä»£ç†ç¨‹åºï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªç»™å®šçš„ä»£ç ç‰‡æ®µï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„æµ‹è¯•ä»£ç å¹¶å°†å…¶ä¿å­˜ä¸ºæ–‡ä»¶ã€‚ç„¶åï¼Œå®ƒå¯ä»¥è¿è¡Œè¿™ä¸ªæµ‹è¯•ä»£ç ã€‚

ä»£ç ä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸º`agent_template`çš„ç±»ï¼Œå®ƒå¯èƒ½æ˜¯ä¸€ä¸ªç»è¿‡ä¼˜åŒ–çš„ä»£ç ç‰‡æ®µã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å®šä¹‰å…·ä½“çš„`agent_template`ç±»ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨äº†Pythonæ ‡å‡†åº“ä¸­çš„`MULTI_ACTION_AGENT_CODE_EXAMPLE`ç±»å‹ã€‚

æœ€åï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª`main`å‡½æ•°ï¼Œå®ƒä½¿ç”¨`AgentCreator`ç±»åˆ›å»ºäº†ä¸€ä¸ª`SimpleTester`ä»£ç†ç¨‹åºã€‚ç„¶åï¼Œå®ƒä½¿ç”¨`run`æ–¹æ³•å°†æ¶ˆæ¯ï¼ˆå­—ç¬¦ä¸²ï¼‰ä¼ é€’ç»™ä»£ç†ç¨‹åºï¼Œå¹¶ç­‰å¾…å…¶æ‰§è¡Œã€‚


```py
if __name__ == "__main__":
    import asyncio

    async def main():

        agent_template = MULTI_ACTION_AGENT_CODE_EXAMPLE

        creator = AgentCreator(agent_template=agent_template)

        # msg = """Write an agent called SimpleTester that will take any code snippet (str)
        #     and return a testing code (str) for testing
        #     the given code snippet. Use pytest as the testing framework."""

        msg = """
        Write an agent called SimpleTester that will take any code snippet (str) and do the following:
        1. write a testing code (str) for testing the given code snippet, save the testing code as a .py file in the current working directory;
        2. run the testing code.
        You can use pytest as the testing framework.
        """
        await creator.run(msg)

    asyncio.run(main())

```